{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,0OAAO,EAAC,IAAA,iNAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,2OAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,4OAAI,GAAG;IAE9B,qBACE,kTAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,sLAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,kTAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/landing/LobbyScreen.tsx"],"sourcesContent":["// \"use client\";\n// import React, { useEffect, useState } from \"react\";\n// import { Button } from \"@/components/ui/button\";\n// import { Card } from \"@/components/ui/card\";\n// import { Input } from \"@/components/ui/input\";\n// import { useAuth } from \"../providers/AuthProvider\";\n\n// export default function LobbyScreen({ onJoin }: { onJoin: (name: string, role: string) => void }) {\n//   const [name, setName] = useState(\"\");\n//   const { user, signInWithGoogle, logout } = useAuth(); // <--- Magic Hook\n// useEffect(() => {\n//     if (user) {\n//       // Wait 1.5 seconds for the \"Identity Verified\" animation to play, then join\n//       const timer = setTimeout(() => {\n//         onJoin(user.displayName || \"Student\", \"student\");\n//       }, 1500);\n      \n//       return () => clearTimeout(timer);\n//     }\n//   }, [user, onJoin]);\n//   return (\n//     <div className=\"min-h-screen bg-black flex flex-col items-center justify-center p-4 relative overflow-hidden\">\n//       {/* Background Grid */}\n//       <div className=\"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]\"></div>\n      \n//       <Card className=\"w-full max-w-md bg-zinc-900 border-zinc-800 p-8 z-10 shadow-2xl\">\n//         <div className=\"text-center mb-8\">\n//           <h1 className=\"text-4xl font-black text-white tracking-tighter mb-2\">\n//             NETVERSE <span className=\"text-blue-500\">LABS</span>\n//           </h1>\n//           <p className=\"text-zinc-400\">The Spatial Operating System for Engineering</p>\n//         </div>\n\n//         <div className=\"space-y-4\">\n//           <Button \n//             className=\"w-full bg-white text-black hover:bg-zinc-200 font-bold py-6 flex items-center gap-3\"\n//             onClick={signInWithGoogle}\n//           >\n//             <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n//               <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\n//               <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\n//               <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\n//               <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\n//             </svg>\n//             Sign in with Google\n//           </Button>\n\n//           <div className=\"relative\">\n//             <div className=\"absolute inset-0 flex items-center\"><span className=\"w-full border-t border-zinc-800\"></span></div>\n//             <div className=\"relative flex justify-center text-xs uppercase\"><span className=\"bg-zinc-900 px-2 text-zinc-500\">Or guest access</span></div>\n//           </div>\n\n//           <Input \n//             placeholder=\"Enter Guest Name\" \n//             className=\"bg-black border-zinc-700 text-white\"\n//             value={name}\n//             onChange={(e) => setName(e.target.value)}\n//           />\n//           <Button \n//             className=\"w-full bg-blue-600 hover:bg-blue-700\"\n//             onClick={() => onJoin(name || \"Guest\", \"student\")}\n//           >\n//             Enter Campus\n//           </Button>\n//         </div>\n//       </Card>\n//     </div>\n//   );\n// }\n\n/////////////////////////////////////////////////////////\n\n// \"use client\";\n// import React, { useEffect, useState } from \"react\";\n// import { Button } from \"@/components/ui/button\";\n// import { Card } from \"@/components/ui/card\";\n// import { Input } from \"@/components/ui/input\";\n// import { useAuth } from \"../providers/AuthProvider\";\n\n// export default function LobbyScreen({ onJoin }: { onJoin: (name: string, role: string) => void }) {\n//   const [name, setName] = useState(\"\");\n//   const { user, signInWithGoogle, logout } = useAuth(); \n\n//   // Auto-fill name if logged in\n//   useEffect(() => {\n//     if (user?.displayName) setName(user.displayName);\n//   }, [user]);\n\n//   return (\n//     <div className=\"min-h-screen bg-black flex flex-col items-center justify-center p-4 relative overflow-hidden\">\n//       {/* Grid Background */}\n//       <div className=\"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]\"></div>\n      \n//       <Card className=\"w-full max-w-md bg-zinc-900 border-zinc-800 p-8 z-10 shadow-2xl relative\">\n//         <div className=\"text-center mb-8\">\n//           <h1 className=\"text-4xl font-black text-white tracking-tighter mb-2\">\n//             NETVERSE <span className=\"text-blue-500\">LABS</span>\n//           </h1>\n//           <p className=\"text-zinc-400\">The Spatial Operating System for Engineering</p>\n//         </div>\n\n//         {!user ? (\n//           <div className=\"space-y-4\">\n//              <Button \n//               className=\"w-full bg-white text-black hover:bg-zinc-200 font-bold py-6 flex items-center gap-3\"\n//               onClick={signInWithGoogle}\n//             >\n//               <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n//                <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\n//                <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\n//                <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\n//                <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\n//               </svg>\n//               Sign in with Google\n//             </Button>\n//             <p className=\"text-xs text-center text-zinc-500\">Required for Classroom & Grades</p>\n//           </div>\n//         ) : (\n//           <div className=\"space-y-4\">\n//              <div className=\"bg-green-900/20 border border-green-500/30 p-3 rounded text-center\">\n//               <p className=\"text-green-400 font-bold text-sm\">Logged in as {user.displayName}</p>\n//             </div>\n            \n//             <Input \n//               placeholder=\"Display Name\" \n//               className=\"bg-black border-zinc-700 text-white\"\n//               value={name}\n//               onChange={(e) => setName(e.target.value)}\n//             />\n            \n//             <Button \n//               className=\"w-full bg-blue-600 hover:bg-blue-700 font-bold py-6 text-lg\"\n//               onClick={() => onJoin(name || \"Student\", \"student\")}\n//             >\n//               ENTER CAMPUS\n//             </Button>\n            \n//             <Button variant=\"ghost\" onClick={logout} className=\"w-full text-zinc-500 hover:text-red-400\">\n//               Sign Out\n//             </Button>\n//           </div>\n//         )}\n//       </Card>\n//     </div>\n//   );\n// }\n\n/////////////////////////////////////////////////////\n\n\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { useAuth } from \"../providers/AuthProvider\";\nimport { AlertTriangle, LogOut } from \"lucide-react\"; // Import Icons\n\nexport default function LobbyScreen({ onJoin }: { onJoin: (name: string, role: string) => void }) {\n  const [name, setName] = useState(\"\");\n  // 1. Get accessToken from AuthContext\n  const { user, signInWithGoogle, logout, accessToken } = useAuth(); \n\n  // Auto-fill name if logged in\n  useEffect(() => {\n    if (user?.displayName) setName(user.displayName);\n  }, [user]);\n\n  return (\n    <div className=\"min-h-screen bg-black flex flex-col items-center justify-center p-4 relative overflow-hidden\">\n      <div className=\"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]\"></div>\n      \n      <Card className=\"w-full max-w-md bg-zinc-900 border-zinc-800 p-8 z-10 shadow-2xl relative\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-black text-white tracking-tighter mb-2\">\n            NETVERSE <span className=\"text-blue-500\">LABS</span>\n          </h1>\n          <p className=\"text-zinc-400\">The Spatial Operating System for Engineering</p>\n        </div>\n\n        {/* CASE 1: NOT LOGGED IN */}\n        {!user ? (\n          <div className=\"space-y-4\">\n             <Button \n              className=\"w-full bg-white text-black hover:bg-zinc-200 font-bold py-6 flex items-center gap-3\"\n              onClick={signInWithGoogle}\n            >\n              <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n               <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\n               <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\n               <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\n               <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\n              </svg>\n              Sign in with Google\n            </Button>\n            <p className=\"text-xs text-center text-zinc-500\">Required for Classroom & Grades</p>\n          </div>\n\n        ) : !accessToken ? (\n          // âœ… CASE 2: LOGGED IN BUT TOKEN EXPIRED (The Fix)\n          <div className=\"space-y-4 animate-in fade-in\">\n             <div className=\"bg-yellow-900/20 border border-yellow-500/30 p-4 rounded text-center flex flex-col items-center gap-2\">\n              <AlertTriangle className=\"text-yellow-500 w-8 h-8\" />\n              <p className=\"text-yellow-400 font-bold text-sm\">Session Expired</p>\n              <p className=\"text-zinc-400 text-xs\">\n                Your Google permissions need to be refreshed to access the Dashboard.\n              </p>\n            </div>\n            \n            <Button \n              className=\"w-full bg-blue-600 hover:bg-blue-700 font-bold py-6 text-lg\"\n              onClick={signInWithGoogle} // Triggers popup again to get new token\n            >\n              Reconnect Google\n            </Button>\n            \n            <Button variant=\"ghost\" onClick={logout} className=\"w-full text-zinc-500 hover:text-white\">\n              <LogOut className=\"w-4 h-4 mr-2\" /> Sign Out completely\n            </Button>\n          </div>\n\n        ) : (\n          // CASE 3: FULLY LOGGED IN & READY\n          <div className=\"space-y-4 animate-in fade-in\">\n             <div className=\"bg-green-900/20 border border-green-500/30 p-3 rounded text-center\">\n              <p className=\"text-green-400 font-bold text-sm\">Logged in as {user.displayName}</p>\n            </div>\n            \n            <Input \n              placeholder=\"Display Name\" \n              className=\"bg-black border-zinc-700 text-white\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            />\n            \n            <Button \n              className=\"w-full bg-blue-600 hover:bg-blue-700 font-bold py-6 text-lg\"\n              onClick={() => onJoin(name || \"Student\", \"student\")}\n            >\n              ENTER CAMPUS\n            </Button>\n            \n            <Button variant=\"ghost\" onClick={logout} className=\"w-full text-zinc-500 hover:text-red-400\">\n              Sign Out\n            </Button>\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/lib/game-config.ts"],"sourcesContent":["import { LucideIcon, Monitor, Coffee, GraduationCap } from \"lucide-react\";\n\nexport const GAME_CONFIG = {\n  mapWidth: 2400,\n  mapHeight: 1600,\n  viewportWidth: 900,\n  viewportHeight: 600,\n  playerSize: 40,\n  playerSpeed: 12,\n};\n\nexport type StationType = \"exam\" | \"server\" | \"common\" | \"security\" | \"dev\" | \"npc-teacher\" | \"code-editor\";\n\nexport interface GameStation {\n  id: string;\n  label: string;\n  type: StationType;\n  x: number;\n  y: number;\n  color?: string;\n  icon: LucideIcon;\n  description?: string;\n  interactionRadius?: number;\n  status?: \"online\" | \"available\" | \"offline\";\n}\n\nexport const STATIONS: GameStation[] = [\n  {\n    id: \"exam-desk-01\",\n    label: \"Exam Station 1\",\n    type: \"exam\",\n    x: 1850,\n    y: 550,\n    color: \"bg-blue-500\",\n    icon: Monitor\n  },\n  {\n    id: \"cafeteria-table\",\n    label: \"Chill Zone\",\n    type: \"common\",\n    x: 550,\n    y: 535,\n    color: \"bg-green-500\",\n    icon: Coffee\n  },\n  {\n    id: \"npc-professor\",\n    label: \"Prof. Byte\",\n    type: \"npc-teacher\",\n    x: 2100, \n    y: 1350, \n    color: \"bg-yellow-500\",\n    icon: GraduationCap,\n    description: \"Ask for guidance.\",\n    status: \"available\" \n  }\n];\n\nexport const WALLS = [];\n\n// âœ… TEACHER RBAC CONFIG\nexport const TEACHER_IDS = [\n  \"bristolrabbit720@gmail.com\",\n  // \"waybooster.pg@gmail.com\",\n];\n\nexport const isTeacher = (email?: string | null) => {\n  if (!email) return false;\n  return TEACHER_IDS.includes(email);\n};"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAAA;;AAEO,MAAM,cAAc;IACzB,UAAU;IACV,WAAW;IACX,eAAe;IACf,gBAAgB;IAChB,YAAY;IACZ,aAAa;AACf;AAiBO,MAAM,WAA0B;IACrC;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,GAAG;QACH,GAAG;QACH,OAAO;QACP,MAAM,uRAAO;IACf;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,GAAG;QACH,GAAG;QACH,OAAO;QACP,MAAM,oRAAM;IACd;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM;QACN,GAAG;QACH,GAAG;QACH,OAAO;QACP,MAAM,6SAAa;QACnB,aAAa;QACb,QAAQ;IACV;CACD;AAEM,MAAM,QAAQ,EAAE;AAGhB,MAAM,cAAc;IACzB;CAED;AAEM,MAAM,YAAY,CAAC;IACxB,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,YAAY,QAAQ,CAAC;AAC9B"}},
    {"offset": {"line": 695, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/Player.tsx"],"sourcesContent":["import React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { GAME_CONFIG } from \"@/lib/game-config\";\n\ninterface PlayerProps {\n  pos: { x: number; y: number };\n  facing: 'left' | 'right' | 'up' | 'down';\n  isMoving: boolean;\n  username: string;\n}\n\nexport default function Player({ pos, facing, isMoving, username }: PlayerProps) {\n  \n  // 1. Map directions to your specific files\n  const spriteMap = {\n    left: \"/characters/student-left-removebg.png\",\n    right: \"/characters/student-right-removebg.png\",\n    up: \"/characters/student-up-removebg.png\",     // Fallback to right if you lack this\n    down: \"/characters/student-down-removebg.png\", // Fallback to left if you lack this\n  };\n\n  return (\n    <motion.div\nclassName=\"absolute flex flex-col items-center justify-center z-20 w-16 h-16 -ml-4 -mt-8\"      animate={{ x: pos.x, y: pos.y }}\n      transition={{ \n        type: \"tween\", \n        ease: \"linear\", \n        duration: isMoving ? 0.1 : 0 // Smooth interpolation when moving\n      }}\n      style={{\n        zIndex: 20,\n        // width: GAME_CONFIG.playerSize,   // e.g., 32px\n        // height: GAME_CONFIG.playerSize,  // e.g., 32px\n      }}\n    >\n      {/* 2. The Character Sprite */}\n      <img \n        src={spriteMap[facing]} \n        alt=\"Player\"\n        className=\"w-16 h-16 object-contain pixelated\" \n        // 'pixelated' ensures crisp edges for pixel art (add to global css if needed)\n      />\n\n      {/* 3. Username Label (Floating above head) */}\n      <div className=\"absolute -top-6 bg-black/50 px-2 py-0.5 rounded text-[10px] text-white whitespace-nowrap backdrop-blur-sm\">\n        {username}\n      </div>\n\n    </motion.div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;;;AAUe,SAAS,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAe;IAE7E,2CAA2C;IAC3C,MAAM,YAAY;QAChB,MAAM;QACN,OAAO;QACP,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,kTAAC,wQAAM,CAAC,GAAG;QACf,WAAU;QAAqF,SAAS;YAAE,GAAG,IAAI,CAAC;YAAE,GAAG,IAAI,CAAC;QAAC;QACvH,YAAY;YACV,MAAM;YACN,MAAM;YACN,UAAU,WAAW,MAAM,EAAE,mCAAmC;QAClE;QACA,OAAO;YACL,QAAQ;QAGV;;0BAGA,kTAAC;gBACC,KAAK,SAAS,CAAC,OAAO;gBACtB,KAAI;gBACJ,WAAU;;;;;;0BAKZ,kTAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAKT"}},
    {"offset": {"line": 754, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,2OAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,4OAAI,GAAG;IAE9B,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/Station.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { GameStation } from \"@/lib/game-config\";\n\ninterface StationProps {\n  station: GameStation;\n  isActive: boolean;\n}\n\nexport default function Station({ station, isActive }: StationProps) {\n  return (\n    <div\n      className=\"absolute flex flex-col items-center justify-center transition-all duration-200\"\n      style={{\n        left: station.x - 40, // Centering offset (half of width)\n        top: station.y - 40,\n        zIndex: station.y // Y-Sorting (things lower on screen cover things higher)\n      }}\n    >\n      {/* Interaction Prompt (Bouncing Badge) */}\n      <div className={`\n          absolute -top-12 z-50 transition-all duration-300\n          ${isActive ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4 pointer-events-none'}\n      `}>\n        <Badge className=\"bg-yellow-400 text-black font-bold border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] animate-bounce\">\n          PRESS ENTER\n        </Badge>\n      </div>\n\n      {/* The Visual Object */}\n      <div className={`\n        w-20 h-20 rounded-lg shadow-xl border-2 border-black flex items-center justify-center transition-all\n        ${station.color} \n        ${isActive ? 'scale-110 ring-4 ring-white brightness-110' : 'opacity-90'}\n      `}>\n        <station.icon className=\"text-white w-8 h-8 drop-shadow-md\" />\n      </div>\n\n      {/* Label */}\n      <span className=\"mt-2 text-[10px] font-bold text-slate-200 bg-black/80 px-2 py-1 rounded border border-white/10\">\n        {station.label}\n      </span>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAWe,SAAS,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAgB;IACjE,qBACE,kTAAC;QACC,WAAU;QACV,OAAO;YACL,MAAM,QAAQ,CAAC,GAAG;YAClB,KAAK,QAAQ,CAAC,GAAG;YACjB,QAAQ,QAAQ,CAAC,CAAC,yDAAyD;QAC7E;;0BAGA,kTAAC;gBAAI,WAAW,CAAC;;UAEb,EAAE,WAAW,8BAA8B,8CAA8C;MAC7F,CAAC;0BACC,cAAA,kTAAC,uMAAK;oBAAC,WAAU;8BAAiH;;;;;;;;;;;0BAMpI,kTAAC;gBAAI,WAAW,CAAC;;QAEf,EAAE,QAAQ,KAAK,CAAC;QAChB,EAAE,WAAW,+CAA+C,aAAa;MAC3E,CAAC;0BACC,cAAA,kTAAC,QAAQ,IAAI;oBAAC,WAAU;;;;;;;;;;;0BAI1B,kTAAC;gBAAK,WAAU;0BACb,QAAQ,KAAK;;;;;;;;;;;;AAItB"}},
    {"offset": {"line": 873, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/WorldMap.tsx"],"sourcesContent":["// \"use client\";\n\n// import React from \"react\";\n// import { GAME_CONFIG } from \"@/lib/game-config\";\n\n// export default function WorldMap() {\n//   return (\n//     <div \n//       className=\"absolute inset-0 bg-slate-950\"\n//       style={{ width: GAME_CONFIG.mapWidth, height: GAME_CONFIG.mapHeight }}\n//     >\n      \n//       {/* 1. BASE GRID PATTERN (The \"Tron\" Floor) */}\n//       <div className=\"absolute inset-0 opacity-20\" \n//            style={{ \n//              backgroundImage: `radial-gradient(circle, #64748b 2px, transparent 2px)`, \n//              backgroundSize: '40px 40px' \n//            }} \n//       />\n\n//       {/* 2. ZONES & ROOMS (Visual Cues) */}\n      \n//       {/* SERVER ROOM (Red Zone) */}\n//       <div className=\"absolute top-[200px] left-[1800px] w-[500px] h-[400px] bg-red-900/10 border-4 border-slate-800 rounded-3xl\">\n//          <div className=\"absolute -top-10 left-0 text-red-500/30 font-black text-6xl tracking-tighter select-none\">\n//            SERVER_FARM\n//          </div>\n//          {/* Decorative blinking light */}\n//          <div className=\"absolute top-4 right-4 w-2 h-2 bg-red-500 rounded-full animate-pulse shadow-[0_0_10px_red]\" />\n//       </div>\n\n//       {/* EXAM HALL (Blue Zone) */}\n//       <div className=\"absolute top-[300px] left-[300px] w-[600px] h-[500px] bg-blue-900/10 border-4 border-slate-800 rounded-3xl\">\n//          <div className=\"absolute -top-10 right-0 text-blue-500/30 font-black text-6xl tracking-tighter select-none\">\n//            EXAM_HALL\n//          </div>\n//          <div className=\"absolute bottom-4 left-4 text-xs text-blue-400/50 font-mono\">\n//            SILENCE REQUIRED â€¢ SECTOR A\n//          </div>\n//       </div>\n\n//       {/* CAFETERIA (Green Zone) */}\n//       <div className=\"absolute top-[700px] left-[1100px] w-[400px] h-[400px] bg-green-900/10 border-4 border-slate-800 rounded-full\">\n//          <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-green-500/20 font-black text-4xl tracking-widest select-none rotate-45\">\n//            LOUNGE\n//          </div>\n//       </div>\n\n//       {/* 3. WALLS / BORDERS */}\n//       <div className=\"absolute top-0 left-0 w-full h-2 bg-slate-800\" />\n//       <div className=\"absolute bottom-0 left-0 w-full h-2 bg-slate-800\" />\n//       <div className=\"absolute top-0 left-0 h-full w-2 bg-slate-800\" />\n//       <div className=\"absolute top-0 right-0 h-full w-2 bg-slate-800\" />\n\n//     </div>\n//   );\n// }\n\"use client\";\n\nimport React from \"react\";\nimport Image from \"next/image\"; \nimport { GAME_CONFIG } from \"@/lib/game-config\";\n\nexport default function WorldMap() {\n  return (\n    <div \n      className=\"absolute inset-0 bg-slate-950\"\n      style={{ width: GAME_CONFIG.mapWidth, height: GAME_CONFIG.mapHeight }}\n    >\n      {/* 1. THE PIXEL ART MAP */}\n      {/* The 'pixelated' class ensures it stays sharp and doesn't get blurry */}\n      <Image \n        src=\"/maps/lab-map-final2.jpeg\" \n        alt=\"NetVerse Campus\"\n        fill\n        className=\"object-cover pixelated\" \n        priority\n      />\n\n      {/* 2. OPTIONAL: VISUAL DEBUGGER */}\n      {/* These colored boxes show where the CODE thinks the zones are. */}\n      {/* If your drawing doesn't match these boxes, adjust coordinates in game-config.ts */}\n      {/* Once everything aligns, you can delete this entire div. */}\n      <div className=\"absolute inset-0 pointer-events-none opacity-30\">\n        {/* Exam Hall Area Check */}\n        <div className=\"absolute top-[640px] left-[640px] w-20 h-20 border-4 border-blue-500\" />\n        \n        {/* Server Farm Area Check */}\n        <div className=\"absolute top-[480px] left-[2240px] w-20 h-20 border-4 border-red-500\" />\n        \n        {/* Cafeteria Area Check */}\n        <div className=\"absolute top-[1280px] left-[1184px] w-20 h-20 border-4 border-green-500\" />\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AA4DA;AACA;AA7DA,gBAAgB;AAEhB,6BAA6B;AAC7B,mDAAmD;AAEnD,uCAAuC;AACvC,aAAa;AACb,YAAY;AACZ,kDAAkD;AAClD,+EAA+E;AAC/E,QAAQ;AAER,wDAAwD;AACxD,sDAAsD;AACtD,uBAAuB;AACvB,0FAA0F;AAC1F,4CAA4C;AAC5C,iBAAiB;AACjB,WAAW;AAEX,+CAA+C;AAE/C,uCAAuC;AACvC,qIAAqI;AACrI,sHAAsH;AACtH,yBAAyB;AACzB,kBAAkB;AAClB,6CAA6C;AAC7C,0HAA0H;AAC1H,eAAe;AAEf,sCAAsC;AACtC,qIAAqI;AACrI,wHAAwH;AACxH,uBAAuB;AACvB,kBAAkB;AAClB,yFAAyF;AACzF,yCAAyC;AACzC,kBAAkB;AAClB,eAAe;AAEf,uCAAuC;AACvC,wIAAwI;AACxI,qKAAqK;AACrK,oBAAoB;AACpB,kBAAkB;AAClB,eAAe;AAEf,mCAAmC;AACnC,0EAA0E;AAC1E,6EAA6E;AAC7E,0EAA0E;AAC1E,2EAA2E;AAE3E,aAAa;AACb,OAAO;AACP,IAAI;AACJ;;;;AAMe,SAAS;IACtB,qBACE,kTAAC;QACC,WAAU;QACV,OAAO;YAAE,OAAO,wMAAW,CAAC,QAAQ;YAAE,QAAQ,wMAAW,CAAC,SAAS;QAAC;;0BAIpE,kTAAC,4MAAK;gBACJ,KAAI;gBACJ,KAAI;gBACJ,IAAI;gBACJ,WAAU;gBACV,QAAQ;;;;;;0BAOV,kTAAC;gBAAI,WAAU;;kCAEb,kTAAC;wBAAI,WAAU;;;;;;kCAGf,kTAAC;wBAAI,WAAU;;;;;;kCAGf,kTAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB"}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,kTAAC,8OAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,kTAAC,iPAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,kTAAC,gPAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,kTAAC,+OAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,kTAAC,iPAAuB;QACtB,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,kTAAC;QAAa,aAAU;;0BACtB,kTAAC;;;;;0BACD,kTAAC,iPAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,sLAAE,EACX,4XACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,kTAAC,+OAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,kTAAC,6QAAK;;;;;0CACN,kTAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,kTAAC;QACC,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,kTAAC,+OAAqB;QACpB,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,kTAAC,qPAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1174, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/lib/cloud-shell-api.ts"],"sourcesContent":["// lib/cloud-shell-api.ts\n\n// ðŸ”´ TODO: Replace with your actual ngrok URL from your VM terminal\nconst API_BASE_URL = \"https://unthrown-clemently-isabella.ngrok-free.dev\";\n\nconst headers = {\n  \"Content-Type\": \"application/json\",\n  \"ngrok-skip-browser-warning\": \"true\",\n};\n\nexport interface CloudFile {\n  name: string;\n  size: number;\n  updatedAt: string;\n}\n\nexport const CloudAPI = {\n  // 1. Run Code\n  execute: async (code: string, language: string) => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/execute`, {\n        method: \"POST\",\n        headers,\n        body: JSON.stringify({ code, language }),\n      });\n      return await res.json();\n    } catch (err) {\n      return { output: \"âš ï¸ Network Error: Could not connect to Cloud Shell.\", isError: true };\n    }\n  },\n\n  // 2. Save File\n  saveFile: async (email: string, filename: string, code: string) => {\n    const res = await fetch(`${API_BASE_URL}/save`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify({ email, filename, code }),\n    });\n    return await res.json();\n  },\n\n  // 3. List Files\n  listFiles: async (email: string) => {\n    try {\n      const res = await fetch(`${API_BASE_URL}/files?email=${encodeURIComponent(email)}`, {\n        method: \"GET\",\n        headers,\n      });\n      return await res.json();\n    } catch (err) {\n      return { files: [] };\n    }\n  },\n\n  // 4. Read File\n  readFile: async (email: string, filename: string) => {\n    const res = await fetch(\n      `${API_BASE_URL}/read?email=${encodeURIComponent(email)}&filename=${encodeURIComponent(filename)}`,\n      { method: \"GET\", headers }\n    );\n    return await res.json();\n  }\n};"],"names":[],"mappings":";;;;AAAA,yBAAyB;AAEzB,oEAAoE;AACpE,MAAM,eAAe;AAErB,MAAM,UAAU;IACd,gBAAgB;IAChB,8BAA8B;AAChC;AAQO,MAAM,WAAW;IACtB,cAAc;IACd,SAAS,OAAO,MAAc;QAC5B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,QAAQ,CAAC,EAAE;gBACjD,QAAQ;gBACR;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;gBAAS;YACxC;YACA,OAAO,MAAM,IAAI,IAAI;QACvB,EAAE,OAAO,KAAK;YACZ,OAAO;gBAAE,QAAQ;gBAAuD,SAAS;YAAK;QACxF;IACF;IAEA,eAAe;IACf,UAAU,OAAO,OAAe,UAAkB;QAChD,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,KAAK,CAAC,EAAE;YAC9C,QAAQ;YACR;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;gBAAU;YAAK;QAC/C;QACA,OAAO,MAAM,IAAI,IAAI;IACvB;IAEA,gBAAgB;IAChB,WAAW,OAAO;QAChB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,aAAa,aAAa,EAAE,mBAAmB,QAAQ,EAAE;gBAClF,QAAQ;gBACR;YACF;YACA,OAAO,MAAM,IAAI,IAAI;QACvB,EAAE,OAAO,KAAK;YACZ,OAAO;gBAAE,OAAO,EAAE;YAAC;QACrB;IACF;IAEA,eAAe;IACf,UAAU,OAAO,OAAe;QAC9B,MAAM,MAAM,MAAM,MAChB,GAAG,aAAa,YAAY,EAAE,mBAAmB,OAAO,UAAU,EAAE,mBAAmB,WAAW,EAClG;YAAE,QAAQ;YAAO;QAAQ;QAE3B,OAAO,MAAM,IAAI,IAAI;IACvB;AACF"}},
    {"offset": {"line": 1245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/modals/CodeEditorWindow.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Editor from \"@monaco-editor/react\";\nimport { \n  Play, RotateCcw, Save, Loader2, Terminal, X, \n  ChevronDown, Code2, FileText, RefreshCw, Bot \n} from \"lucide-react\";\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { toast } from \"sonner\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\nimport { CloudFile, CloudAPI } from \"@/lib/cloud-shell-api\";\n\n// --- LANGUAGE CONFIG ---\n// IDs match Monaco Editor language identifiers\nconst LANGUAGES = [\n  { id: \"cpp\", label: \"C++ (GCC)\", snippet: \"#include <iostream>\\n\\nint main() {\\n\\tstd::cout << \\\"Hello NetVerse\\\";\\n\\treturn 0;\\n}\" },\n  { id: \"python\", label: \"Python 3\", snippet: \"print('Hello NetVerse')\" },\n  { id: \"javascript\", label: \"Node.js\", snippet: \"console.log('Hello NetVerse');\" },\n  { id: \"go\", label: \"Go 1.20\", snippet: \"package main\\nimport \\\"fmt\\\"\\nfunc main() {\\n\\tfmt.Println(\\\"Hello\\\")\\n}\" },\n];\n\ninterface CodeEditorWindowProps {\n  isOpen: boolean;\n  onClose: () => void;\n  station: any;\n}\n\nexport default function CodeEditorWindow({ isOpen, onClose, station }: CodeEditorWindowProps) {\n  const { user } = useAuth();\n  \n  // --- STATE ---\n  const [activeLang, setActiveLang] = useState(LANGUAGES[0]);\n  const [code, setCode] = useState(LANGUAGES[0].snippet);\n  const [output, setOutput] = useState(\"\");\n  \n  // Loading States\n  const [isRunning, setIsRunning] = useState(false);\n  const [isAiLoading, setIsAiLoading] = useState(false);\n  const [isLoadingFiles, setIsLoadingFiles] = useState(false);\n\n  // File System State\n  const [currentFilename, setCurrentFilename] = useState(\"main.cpp\");\n  const [files, setFiles] = useState<CloudFile[]>([]);\n\n  // --- 1. INITIAL LOAD ---\n  useEffect(() => {\n    if (isOpen && user?.email) {\n      refreshFiles();\n    }\n  }, [isOpen, user]);\n\n  const refreshFiles = async () => {\n    if (!user?.email) return;\n    setIsLoadingFiles(true);\n    const data = await CloudAPI.listFiles(user.email);\n    if (data.files) setFiles(data.files);\n    setIsLoadingFiles(false);\n  };\n\n  // --- 2. ACTIONS ---\n\n  const handleRun = async () => {\n    setIsRunning(true);\n    setOutput(\"ðŸ“¡ Sending to Cloud VM...\");\n    \n    // Call Cloud API\n    const result = await CloudAPI.execute(code, activeLang.id);\n    \n    if (result.isError) {\n      setOutput(`âš ï¸ Error:\\n${result.output}`);\n    } else {\n      setOutput(`âœ… Execution Time: ${result.executionTime || \"0ms\"}\\n\\n${result.output}`);\n    }\n    setIsRunning(false);\n  };\n\n  const handleSave = async () => {\n    if (!user?.email) return toast.error(\"You must be logged in to save.\");\n    \n    let filename = currentFilename;\n    if (filename === \"untitled\" || filename === \"main.cpp\") {\n      const input = prompt(\"Enter filename to save (e.g., mysolution.cpp):\");\n      if (!input) return;\n      filename = input;\n    }\n\n    const toastId = toast.loading(\"Saving to cloud...\");\n    const res = await CloudAPI.saveFile(user.email, filename, code);\n    \n    toast.dismiss(toastId);\n    if (res.success) {\n      toast.success(\"File saved successfully!\");\n      setCurrentFilename(filename);\n      refreshFiles();\n    } else {\n      toast.error(\"Save failed: \" + res.error);\n    }\n  };\n\n  const loadFile = async (filename: string) => {\n    if (!user?.email) return;\n    const toastId = toast.loading(`Loading ${filename}...`);\n    \n    const data = await CloudAPI.readFile(user.email, filename);\n    \n    toast.dismiss(toastId);\n    if (data.content) {\n      setCode(data.content);\n      setCurrentFilename(filename);\n      setOutput(\"\"); \n      \n      // Auto-detect language based on extension\n      if (filename.endsWith(\".py\")) setActiveLang(LANGUAGES[1]);\n      else if (filename.endsWith(\".js\")) setActiveLang(LANGUAGES[2]);\n      else if (filename.endsWith(\".go\")) setActiveLang(LANGUAGES[3]);\n      else setActiveLang(LANGUAGES[0]);\n    }\n  };\n\n  // --- 3. AI ASSISTANT LOGIC ---\n  const handleAskAI = async () => {\n    if (!output) {\n      toast.error(\"Run your code first to generate an output/error for the AI to analyze!\");\n      return;\n    }\n    \n    setIsAiLoading(true);\n    try {\n      // Assuming you have a Next.js API route at /api/hint\n      const res = await fetch(\"/api/hint\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ \n          code, \n          error: output, \n          language: activeLang.id \n        }),\n      });\n      \n      if (!res.ok) throw new Error(\"AI Service unavailable\");\n      \n      const data = await res.json();\n      setOutput((prev) => prev + \"\\n\\nðŸ¤– AI LAB ASSISTANT:\\n\" + data.hint);\n    } catch (err) {\n      toast.error(\"AI Assistant is offline.\");\n    } finally {\n      setIsAiLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(v) => !v && onClose()}>\n      {/* FORCE FULL WIDTH/HEIGHT */}\n      <DialogContent className=\"!max-w-[95vw] !w-[95vw] h-[90vh] bg-[#1e1e1e] border-zinc-800 p-0 gap-0 flex flex-col overflow-hidden sm:rounded-xl shadow-2xl\">\n        \n        {/* --- HEADER --- */}\n        <div className=\"h-16 bg-[#252526] border-b border-black/40 flex items-center justify-between px-4 shrink-0 select-none\">\n          {/* Left: Title & File Name */}\n          <div className=\"flex items-center gap-4\">\n             <div className=\"flex flex-col\">\n               {/* DialogTitle for Shadcn Accessibility */}\n               <DialogTitle className=\"text-white font-bold text-sm flex items-center gap-2\">\n                 <Code2 className=\"w-4 h-4 text-blue-400\"/>\n                 {station?.label || \"IDE Environment\"}\n               </DialogTitle>\n               \n               <span className=\"text-[10px] text-zinc-400 font-mono flex items-center gap-1 mt-0.5\">\n                 {currentFilename} {files.find(f => f.name === currentFilename) ? \"(Saved)\" : \"(Unsaved)\"}\n               </span>\n             </div>\n\n             {/* Language Select */}\n             <div className=\"relative ml-4 group\">\n               <select \n                  value={activeLang.id}\n                  onChange={(e) => {\n                    const selected = LANGUAGES.find(l => l.id === e.target.value) || LANGUAGES[0];\n                    setActiveLang(selected);\n                    setCode(selected.snippet); // Update Code\n                    setOutput(\"\");             // Clear Output\n                  }}\n                  className=\"appearance-none bg-zinc-900 border border-zinc-700 text-zinc-300 text-xs rounded-md pl-3 pr-8 py-1.5 focus:outline-none focus:border-blue-500 cursor-pointer hover:border-zinc-500 transition-colors\"\n               >\n                 {LANGUAGES.map(lang => (\n                   <option key={lang.id} value={lang.id}>{lang.label}</option>\n                 ))}\n               </select>\n               <ChevronDown className=\"absolute right-2 top-2 w-3 h-3 text-zinc-500 pointer-events-none\"/>\n             </div>\n          </div>\n\n          {/* Right: Buttons */}\n          <div className=\"flex items-center gap-2\">\n            <Button size=\"sm\" variant=\"ghost\" onClick={() => setCode(activeLang.snippet)} className=\"text-zinc-400 hover:text-white hidden sm:flex\">\n              <RotateCcw className=\"w-4 h-4 mr-2\"/> Reset\n            </Button>\n            \n            {/* AI BUTTON */}\n            <Button \n              size=\"sm\" \n              variant=\"secondary\"\n              onClick={handleAskAI} \n              disabled={isAiLoading || !output}\n              className=\"bg-purple-900/20 text-purple-300 hover:bg-purple-900/40 border border-purple-500/30\"\n            >\n              {isAiLoading ? <Loader2 className=\"w-4 h-4 animate-spin\"/> : <Bot className=\"w-4 h-4 sm:mr-2\"/>}\n              <span className=\"hidden sm:inline\">AI Hint</span>\n            </Button>\n\n            {/* SAVE BUTTON */}\n            <Button size=\"sm\" variant=\"secondary\" onClick={handleSave} className=\"bg-blue-900/20 text-blue-300 hover:bg-blue-900/40 border border-blue-500/30\">\n              <Save className=\"w-4 h-4 mr-2\"/> Save\n            </Button>\n\n            {/* RUN BUTTON */}\n            <Button size=\"sm\" onClick={handleRun} disabled={isRunning} className=\"bg-green-600 hover:bg-green-500 text-white min-w-[100px] shadow-lg shadow-green-900/20\">\n              {isRunning ? <Loader2 className=\"w-4 h-4 animate-spin\"/> : <Play className=\"w-4 h-4 mr-2 fill-current\"/>}\n              Run\n            </Button>\n            \n            <div className=\"w-px h-6 bg-zinc-700 mx-2\"/>\n            <Button size=\"icon\" variant=\"ghost\" onClick={onClose} className=\"text-zinc-400 hover:text-white rounded-full w-8 h-8 hover:bg-red-500/20 hover:text-red-400\">\n              <X className=\"w-5 h-5\"/>\n            </Button>\n          </div>\n        </div>\n\n        {/* --- MAIN BODY --- */}\n        <div className=\"flex-1 flex overflow-hidden\">\n          \n          {/* LEFT: FILE EXPLORER SIDEBAR */}\n          <div className=\"w-56 bg-[#181818] border-r border-black/40 flex flex-col shrink-0\">\n            <div className=\"h-8 flex items-center justify-between px-3 text-[11px] font-bold text-zinc-500 uppercase tracking-wider bg-[#1f1f1f]\">\n              <span>Cloud Files</span>\n              <RefreshCw className={`w-3 h-3 cursor-pointer hover:text-white ${isLoadingFiles ? 'animate-spin' : ''}`} onClick={refreshFiles}/>\n            </div>\n            \n            <div className=\"flex-1 overflow-auto p-2 space-y-1\">\n               {isLoadingFiles ? (\n                 <div className=\"text-zinc-600 text-xs p-2 text-center\">Syncing...</div>\n               ) : files.length === 0 ? (\n                 <div className=\"text-zinc-600 text-xs p-2 text-center italic\">No files found</div>\n               ) : (\n                 files.map((file) => (\n                   <div \n                     key={file.name} \n                     onClick={() => loadFile(file.name)}\n                     className={`flex items-center gap-2 px-2 py-1.5 rounded text-xs cursor-pointer select-none transition-colors ${\n                       currentFilename === file.name ? \"bg-blue-600/20 text-blue-400\" : \"text-zinc-400 hover:bg-[#2a2a2a] hover:text-zinc-200\"\n                     }`}\n                   >\n                     <FileText className=\"w-3.5 h-3.5 opacity-70\"/>\n                     <span className=\"truncate\">{file.name}</span>\n                   </div>\n                 ))\n               )}\n            </div>\n          </div>\n\n          {/* RIGHT: EDITOR + TERMINAL */}\n          <div className=\"flex-1 flex flex-col min-w-0\">\n            \n            {/* TOP: MONACO EDITOR */}\n            <div className=\"flex-1 relative bg-[#1e1e1e]\">\n               <Editor\n                 height=\"100%\"\n                 language={activeLang.id}\n                 theme=\"vs-dark\"\n                 value={code}\n                 onChange={(value) => setCode(value || \"\")}\n                 options={{\n                   minimap: { enabled: false },\n                   fontSize: 14,\n                   lineNumbers: \"on\",\n                   scrollBeyondLastLine: false,\n                   automaticLayout: true,\n                   padding: { top: 16 }\n                 }}\n               />\n            </div>\n\n            {/* BOTTOM: TERMINAL */}\n            <div className=\"h-48 bg-[#0d0d0d] border-t border-zinc-800 flex flex-col shrink-0\">\n              <div className=\"h-8 bg-[#1e1e1e] border-b border-black flex items-center px-4 justify-between select-none\">\n                <span className=\"text-[11px] font-bold text-zinc-400 uppercase tracking-wider flex items-center gap-2\">\n                  <Terminal className=\"w-3 h-3\"/> Console Output\n                </span>\n                <button onClick={() => setOutput(\"\")} className=\"text-[10px] text-zinc-500 hover:text-zinc-300 underline\">Clear</button>\n              </div>\n              \n              <div className=\"flex-1 p-4 overflow-auto font-mono text-sm\">\n                {output ? (\n                  <pre className=\"text-zinc-300 whitespace-pre-wrap font-[inherit]\">{output}</pre>\n                ) : (\n                  <div className=\"h-full flex flex-col items-center justify-center text-zinc-800 space-y-2 select-none\">\n                    <Play className=\"w-8 h-8 opacity-20\"/>\n                    <span className=\"text-xs\">Run code to see output</span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1866, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/modals/ProctorDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\nimport { Grid, Maximize2, AlertTriangle, CheckCircle } from \"lucide-react\";\n\ninterface ProctorDashboardProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\n// MOCK DATA: Using your actual uploaded assets as placeholders\nconst STUDENTS = [\n  { id: \"S-101\", name: \"Alice M.\", status: \"coding\", img: \"/screenshots/NodeLabs-1.png\", warning: false },\n  { id: \"S-102\", name: \"Bob D.\", status: \"idle\", img: \"/screenshots/NodeLabs-2.png\", warning: true },\n  { id: \"S-103\", name: \"Charlie\", status: \"coding\", img: \"/screenshots/sandbox-1.png\", warning: false },\n  { id: \"S-104\", name: \"Dave K.\", status: \"coding\", img: \"/screenshots/sandbox-2.png\", warning: false },\n  { id: \"S-105\", name: \"Eve P.\", status: \"coding\", img: \"/screenshots/sandbox-3.png\", warning: false },\n  { id: \"S-106\", name: \"Frank\", status: \"offline\", img: \"/screenshots/sandbox-4.png\", warning: true },\n];\n\nexport default function ProctorDashboard({ isOpen, onClose }: ProctorDashboardProps) {\n  return (\n    <Dialog open={isOpen} onOpenChange={(v) => !v && onClose()}>\n      <DialogContent className=\"max-w-[90vw] h-[85vh] bg-slate-950 border-slate-800 text-white flex flex-col\">\n        \n        {/* Header */}\n        <div className=\"flex items-center justify-between pb-4 border-b border-slate-800\">\n          <div className=\"flex items-center gap-2\">\n            <Grid className=\"text-purple-400\" />\n            <DialogTitle className=\"text-sm font-mono text-zinc-300 font-normal\">\n                <div className=\"text-xl font-bold\">Proctor Surveillance Grid</div>\n            </DialogTitle>\n            <span className=\"bg-red-900/50 text-red-400 text-xs px-2 py-0.5 rounded border border-red-800 animate-pulse\">\n              LIVE FEED â€¢ REC\n            </span>\n          </div>\n          <div className=\"text-sm text-slate-400\">\n            Active Students: <span className=\"text-white font-bold\">6/20</span>\n          </div>\n        </div>\n\n        {/* Grid */}\n        <div className=\"flex-1 overflow-y-auto grid grid-cols-3 gap-4 p-4\">\n          {STUDENTS.map((student) => (\n            <div key={student.id} className=\"relative group bg-slate-900 rounded-lg border border-slate-800 overflow-hidden hover:border-purple-500 transition-all\">\n              \n              {/* Fake Screen Feed */}\n              <div className=\"aspect-video bg-black relative\">\n                 {/* Using the images you uploaded */}\n                 <img src={student.img} alt=\"screen\" className=\"w-full h-full object-cover opacity-80 group-hover:opacity-100\" />\n                 \n                 {/* Warning Overlay */}\n                 {student.warning && (\n                   <div className=\"absolute inset-0 bg-red-500/10 flex items-center justify-center\">\n                     <AlertTriangle className=\"w-12 h-12 text-red-500 drop-shadow-lg animate-bounce\" />\n                   </div>\n                 )}\n              </div>\n\n              {/* Info Bar */}\n              <div className=\"p-3 flex items-center justify-between bg-slate-900\">\n                <div>\n                   <div className=\"font-bold text-sm\">{student.name}</div>\n                   <div className=\"text-[10px] text-slate-500 uppercase\">{student.id} â€¢ {student.status}</div>\n                </div>\n                {student.warning ? (\n                  <button className=\"text-[10px] bg-red-600 hover:bg-red-500 px-2 py-1 rounded text-white font-bold\">\n                    SEND WARNING\n                  </button>\n                ) : (\n                  <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                )}\n              </div>\n\n            </div>\n          ))}\n        </div>\n\n      </DialogContent>\n    </Dialog>\n  );\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAJA;;;;AAWA,+DAA+D;AAC/D,MAAM,WAAW;IACf;QAAE,IAAI;QAAS,MAAM;QAAY,QAAQ;QAAU,KAAK;QAA+B,SAAS;IAAM;IACtG;QAAE,IAAI;QAAS,MAAM;QAAU,QAAQ;QAAQ,KAAK;QAA+B,SAAS;IAAK;IACjG;QAAE,IAAI;QAAS,MAAM;QAAW,QAAQ;QAAU,KAAK;QAA8B,SAAS;IAAM;IACpG;QAAE,IAAI;QAAS,MAAM;QAAW,QAAQ;QAAU,KAAK;QAA8B,SAAS;IAAM;IACpG;QAAE,IAAI;QAAS,MAAM;QAAU,QAAQ;QAAU,KAAK;QAA8B,SAAS;IAAM;IACnG;QAAE,IAAI;QAAS,MAAM;QAAS,QAAQ;QAAW,KAAK;QAA8B,SAAS;IAAK;CACnG;AAEc,SAAS,iBAAiB,EAAE,MAAM,EAAE,OAAO,EAAyB;IACjF,qBACE,kTAAC,yMAAM;QAAC,MAAM;QAAQ,cAAc,CAAC,IAAM,CAAC,KAAK;kBAC/C,cAAA,kTAAC,gNAAa;YAAC,WAAU;;8BAGvB,kTAAC;oBAAI,WAAU;;sCACb,kTAAC;4BAAI,WAAU;;8CACb,kTAAC,qRAAI;oCAAC,WAAU;;;;;;8CAChB,kTAAC,8MAAW;oCAAC,WAAU;8CACnB,cAAA,kTAAC;wCAAI,WAAU;kDAAoB;;;;;;;;;;;8CAEvC,kTAAC;oCAAK,WAAU;8CAA6F;;;;;;;;;;;;sCAI/G,kTAAC;4BAAI,WAAU;;gCAAyB;8CACrB,kTAAC;oCAAK,WAAU;8CAAuB;;;;;;;;;;;;;;;;;;8BAK5D,kTAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,kTAAC;4BAAqB,WAAU;;8CAG9B,kTAAC;oCAAI,WAAU;;sDAEZ,kTAAC;4CAAI,KAAK,QAAQ,GAAG;4CAAE,KAAI;4CAAS,WAAU;;;;;;wCAG7C,QAAQ,OAAO,kBACd,kTAAC;4CAAI,WAAU;sDACb,cAAA,kTAAC,6SAAa;gDAAC,WAAU;;;;;;;;;;;;;;;;;8CAMhC,kTAAC;oCAAI,WAAU;;sDACb,kTAAC;;8DACE,kTAAC;oDAAI,WAAU;8DAAqB,QAAQ,IAAI;;;;;;8DAChD,kTAAC;oDAAI,WAAU;;wDAAwC,QAAQ,EAAE;wDAAC;wDAAI,QAAQ,MAAM;;;;;;;;;;;;;wCAEtF,QAAQ,OAAO,iBACd,kTAAC;4CAAO,WAAU;sDAAiF;;;;;iEAInG,kTAAC,8SAAW;4CAAC,WAAU;;;;;;;;;;;;;2BA1BnB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AAqChC"}},
    {"offset": {"line": 2112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/modals/TerminalWindow.tsx"],"sourcesContent":["\"use client\";\n\nimport { Terminal, Maximize2, X, Play, RefreshCcw } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n// 1. Import DialogTitle\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\n\ninterface TerminalWindowProps {\n  isOpen: boolean;\n  onClose: () => void;\n  stationName: string;\n  stationId: string;\n}\n\nexport default function TerminalWindow({ isOpen, onClose, stationName, stationId }: TerminalWindowProps) {\n  return (\n    <Dialog open={isOpen} onOpenChange={(val) => !val && onClose()}>\n      <DialogContent className=\"max-w-[90vw] h-[85vh] bg-zinc-950 border-zinc-800 p-0 gap-0 flex flex-col overflow-hidden\">\n        \n        {/* Window Title Bar */}\n        <div className=\"h-10 bg-zinc-900 border-b border-zinc-800 flex items-center justify-between px-4 select-none\">\n          <div className=\"flex items-center gap-3\">\n            <Terminal className=\"w-4 h-4 text-blue-500\" />\n            \n            {/* 2. Add DialogTitle here. This fixes the accessibility error. */}\n            <DialogTitle className=\"text-sm font-mono text-zinc-300 font-normal\">\n              root@netverse:{stationId}\n            </DialogTitle>\n            \n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 text-zinc-500 hover:text-zinc-300\">\n              <RefreshCcw className=\"w-3 h-3\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 text-zinc-500 hover:text-zinc-300\">\n              <Maximize2 className=\"w-3 h-3\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={onClose} className=\"h-6 w-6 text-red-400 hover:bg-red-900/20\">\n              <X className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Toolbar */}\n        <div className=\"h-12 bg-zinc-900/50 border-b border-zinc-800 flex items-center px-4 gap-4\">\n          <div className=\"flex items-center gap-2\">\n             <div className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\" />\n             <span className=\"text-xs text-green-500 font-bold\">CONNECTED</span>\n          </div>\n          <div className=\"h-4 w-px bg-zinc-800\" />\n          <Button size=\"sm\" className=\"bg-blue-600 hover:bg-blue-500 text-xs h-7 gap-2\">\n            <Play className=\"w-3 h-3\" /> Run Script\n          </Button>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"flex-1 bg-black relative font-mono text-sm p-4 text-zinc-300 overflow-auto\">\n          <div className=\"opacity-50\">\n            <p>NetVerse OS v2.4.0 [Stable]</p>\n            <p className=\"mb-4\">Type \"help\" for a list of commands.</p>\n            <p><span className=\"text-green-500\">root@{stationId}:~#</span> apt update</p>\n            <p>Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease</p>\n            <p>Hit:2 http://security.ubuntu.com/ubuntu jammy-security InRelease</p>\n            <p>Reading package lists... Done</p>\n            <p className=\"mt-2\"><span className=\"text-green-500\">root@{stationId}:~#</span> <span className=\"animate-pulse\">_</span></p>\n          </div>\n        </div>\n\n      </DialogContent>\n    </Dialog>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,wBAAwB;AACxB;AALA;;;;;AAce,SAAS,eAAe,EAAE,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,SAAS,EAAuB;IACrG,qBACE,kTAAC,yMAAM;QAAC,MAAM;QAAQ,cAAc,CAAC,MAAQ,CAAC,OAAO;kBACnD,cAAA,kTAAC,gNAAa;YAAC,WAAU;;8BAGvB,kTAAC;oBAAI,WAAU;;sCACb,kTAAC;4BAAI,WAAU;;8CACb,kTAAC,0RAAQ;oCAAC,WAAU;;;;;;8CAGpB,kTAAC,8MAAW;oCAAC,WAAU;;wCAA8C;wCACpD;;;;;;;;;;;;;sCAInB,kTAAC;4BAAI,WAAU;;8CACb,kTAAC,yMAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,WAAU;8CAC5C,cAAA,kTAAC,oSAAU;wCAAC,WAAU;;;;;;;;;;;8CAExB,kTAAC,yMAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,WAAU;8CAC5C,cAAA,kTAAC,iSAAS;wCAAC,WAAU;;;;;;;;;;;8CAEvB,kTAAC,yMAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,SAAS;oCAAS,WAAU;8CAC9D,cAAA,kTAAC,qQAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8BAMnB,kTAAC;oBAAI,WAAU;;sCACb,kTAAC;4BAAI,WAAU;;8CACZ,kTAAC;oCAAI,WAAU;;;;;;8CACf,kTAAC;oCAAK,WAAU;8CAAmC;;;;;;;;;;;;sCAEtD,kTAAC;4BAAI,WAAU;;;;;;sCACf,kTAAC,yMAAM;4BAAC,MAAK;4BAAK,WAAU;;8CAC1B,kTAAC,8QAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;8BAKhC,kTAAC;oBAAI,WAAU;8BACb,cAAA,kTAAC;wBAAI,WAAU;;0CACb,kTAAC;0CAAE;;;;;;0CACH,kTAAC;gCAAE,WAAU;0CAAO;;;;;;0CACpB,kTAAC;;kDAAE,kTAAC;wCAAK,WAAU;;4CAAiB;4CAAM;4CAAU;;;;;;;oCAAU;;;;;;;0CAC9D,kTAAC;0CAAE;;;;;;0CACH,kTAAC;0CAAE;;;;;;0CACH,kTAAC;0CAAE;;;;;;0CACH,kTAAC;gCAAE,WAAU;;kDAAO,kTAAC;wCAAK,WAAU;;4CAAiB;4CAAM;4CAAU;;;;;;;oCAAU;kDAAC,kTAAC;wCAAK,WAAU;kDAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5H"}},
    {"offset": {"line": 2408, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/StationModalManager.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport CodeEditorWindow from \"@/components/modals/CodeEditorWindow\";\nimport ProctorDashboard from \"@/components/modals/ProctorDashboard\";\nimport TerminalWindow from \"@/components/modals/TerminalWindow\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Coffee, Construction, Send, Clock, Wifi, WifiOff, MessageCircle } from \"lucide-react\";\nimport { GameStation } from \"@/lib/game-config\";\nimport { toast } from \"sonner\";\nimport { push, ref as dbRef, onValue, query, orderByChild, equalTo } from \"firebase/database\";\nimport { db } from \"@/lib/firebase\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\n\ninterface ModalManagerProps {\n  activeStation: GameStation | null;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function StationModalManager({ activeStation, isOpen, onClose }: ModalManagerProps) {\n  const { user } = useAuth();\n  const [doubt, setDoubt] = useState(\"\");\n  const [realTimeStatus, setRealTimeStatus] = useState<\"online\" | \"offline\">(\"offline\");\n  \n  // New: Store my previous doubts\n  const [myHistory, setMyHistory] = useState<any[]>([]);\n\n  useEffect(() => {\n    if (activeStation?.type === \"npc-teacher\" && user) {\n      // 1. Listen for Professor Status\n      const statusRef = dbRef(db, \"game_state/professor_status\");\n      const unsubStatus = onValue(statusRef, (s) => setRealTimeStatus(s.val() === \"online\" ? \"online\" : \"offline\"));\n\n      // 2. Listen for MY doubts (History)\n      const myDoubtsRef = query(dbRef(db, \"doubts\"), orderByChild(\"studentId\"), equalTo(user.uid));\n      const unsubDoubts = onValue(myDoubtsRef, (snapshot) => {\n        const data = snapshot.val();\n        if (data) {\n          const list = Object.values(data).sort((a: any, b: any) => b.timestamp - a.timestamp);\n          setMyHistory(list);\n        } else {\n          setMyHistory([]);\n        }\n      });\n\n      return () => { unsubStatus(); unsubDoubts(); };\n    }\n  }, [activeStation, user]);\n\n  if (!activeStation || !isOpen) return null;\n\n  // ... (Keep Security, Exam, Terminal blocks exactly as they were) ...\n  if (activeStation.type === \"security\") return <ProctorDashboard isOpen={isOpen} onClose={onClose} />;\n  if (activeStation.type === \"exam\" || activeStation.type === \"dev\" || activeStation.type === \"code-editor\") return <CodeEditorWindow isOpen={isOpen} onClose={onClose} station={activeStation} />;\n  if (activeStation.type === \"server\") return <TerminalWindow isOpen={isOpen} onClose={onClose} stationName={activeStation.label} stationId={activeStation.id} />;\n\n  // 4. TEACHER NPC\n  if (activeStation.type === \"npc-teacher\") {\n    const handleSendDoubt = async () => {\n      if (!doubt.trim() || !user) return;\n      try {\n        await push(dbRef(db, \"doubts\"), {\n          studentName: user.displayName || \"Student\",\n          studentId: user.uid,\n          text: doubt,\n          timestamp: Date.now(),\n          status: \"pending\"\n        });\n        toast.success(\"Sent!\");\n        setDoubt(\"\");\n      } catch (e) { toast.error(\"Failed to send.\"); }\n    };\n\n    const isOnline = realTimeStatus === \"online\";\n\n    return (\n      <Dialog open={isOpen} onOpenChange={(val) => !val && onClose()}>\n        <DialogContent className=\"sm:max-w-lg bg-zinc-900 border-zinc-700 text-white shadow-2xl h-[600px] flex flex-col\" aria-describedby=\"teacher-desc\">\n          \n          <DialogHeader>\n             <DialogTitle className=\"flex items-center gap-4\">\n                <div className=\"w-12 h-12 bg-blue-900 rounded-full flex items-center justify-center border-2 border-yellow-500 overflow-hidden shrink-0\">\n                    <img src=\"/characters/teacher.png\" className=\"w-full h-full object-cover\" onError={(e) => e.currentTarget.src = \"https://api.dicebear.com/7.x/avataaars/svg?seed=Professor&clothing=blazerAndShirt\"} />\n                </div>\n                <div>\n                    <span className=\"text-xl font-bold text-yellow-400 block\">{activeStation.label}</span>\n                    <span className=\"text-xs text-zinc-400 uppercase tracking-widest font-normal flex items-center gap-1\">\n                        {isOnline ? <><Wifi className=\"w-3 h-3 text-green-500\"/><span className=\"text-green-400\">Online</span></> : <><WifiOff className=\"w-3 h-3 text-red-500\"/><span className=\"text-red-400\">Offline</span></>}\n                    </span>\n                </div>\n             </DialogTitle>\n             <DialogDescription id=\"teacher-desc\" className=\"sr-only\">Ask doubts</DialogDescription>\n          </DialogHeader>\n\n          <div className=\"flex-1 flex flex-col gap-4 mt-2 overflow-hidden\">\n            {/* Input Area */}\n            <div className=\"shrink-0 space-y-2\">\n                <textarea \n                    value={doubt}\n                    onChange={(e) => setDoubt(e.target.value)}\n                    placeholder=\"Type your doubt here...\"\n                    className=\"w-full h-20 bg-black/50 border border-zinc-700 rounded-lg p-3 text-sm text-white focus:outline-none focus:border-yellow-500 resize-none\"\n                />\n                <div className=\"flex justify-end\">\n                  <Button onClick={handleSendDoubt} disabled={!doubt.trim()} size=\"sm\" className=\"bg-yellow-600 hover:bg-yellow-500 text-white font-bold\">\n                    <Send className=\"w-3 h-3 mr-2\" /> Ask Professor\n                  </Button>\n                </div>\n            </div>\n\n            {/* History Section */}\n            <div className=\"flex-1 overflow-hidden flex flex-col bg-zinc-950/30 rounded-lg border border-zinc-800\">\n               <div className=\"p-2 bg-zinc-800/50 text-xs font-bold text-zinc-400 uppercase flex items-center gap-2\">\n                  <MessageCircle className=\"w-3 h-3\" /> Your Previous Doubts\n               </div>\n               <div className=\"flex-1 overflow-y-auto p-3 space-y-3\">\n                  {myHistory.length === 0 ? (\n                    <p className=\"text-zinc-600 text-xs text-center mt-10\">No history yet.</p>\n                  ) : (\n                    myHistory.map((item, i) => (\n                      <div key={i} className=\"flex flex-col gap-2\">\n                         {/* My Question */}\n                         <div className=\"self-end bg-blue-900/20 border border-blue-900/50 rounded-lg rounded-tr-none p-2 max-w-[85%]\">\n                            <p className=\"text-sm text-blue-100\">{item.text}</p>\n                            <span className=\"text-[10px] text-blue-400/60 block mt-1 text-right\">{new Date(item.timestamp).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}</span>\n                         </div>\n                         \n                         {/* Professor Answer */}\n                         {item.status === 'resolved' && item.answer ? (\n                            <div className=\"self-start bg-yellow-900/20 border border-yellow-900/50 rounded-lg rounded-tl-none p-2 max-w-[90%]\">\n                               <p className=\"text-xs text-yellow-500 font-bold mb-1\">Professor Byte:</p>\n                               <p className=\"text-sm text-yellow-100/90\">{item.answer}</p>\n                            </div>\n                         ) : (\n                            <div className=\"self-end text-[10px] text-zinc-500 italic pr-1\">Waiting for reply...</div>\n                         )}\n                      </div>\n                    ))\n                  )}\n               </div>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  // Common Area\n  if (activeStation.type === \"common\" || activeStation.type === \"social\") {\n    return (\n      <Dialog open={isOpen} onOpenChange={(val) => !val && onClose()}>\n        <DialogContent className=\"sm:max-w-md bg-zinc-900 border-zinc-800 text-white\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2 text-xl\"><Coffee className=\"text-orange-400\" /> {activeStation.label}</DialogTitle>\n            <DialogDescription className=\"text-zinc-400\">Relax zone.</DialogDescription>\n          </DialogHeader>\n          <div className=\"flex justify-end\"><Button onClick={onClose} variant=\"secondary\">Back</Button></div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  return null;\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2882, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/hud/MiniMap.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { GAME_CONFIG, STATIONS } from \"@/lib/game-config\";\n\ninterface MiniMapProps {\n  playerPos: { x: number; y: number };\n}\n\nexport default function MiniMap({ playerPos }: MiniMapProps) {\n  // 1. Calculate the Scale Factor\n  // We want the MiniMap to be fixed width (e.g., 240px)\n  const MINI_WIDTH = 240;\n  const scale = MINI_WIDTH / GAME_CONFIG.mapWidth;\n  const MINI_HEIGHT = GAME_CONFIG.mapHeight * scale;\n\n  return (\n    <div \n      className=\"absolute bottom-6 right-6 z-50 bg-black/80 border-2 border-slate-600 rounded-lg shadow-2xl overflow-hidden backdrop-blur-sm\"\n      style={{ width: MINI_WIDTH, height: MINI_HEIGHT }}\n    >\n      {/* MAP TITLE */}\n      <div className=\"absolute top-0 left-0 bg-slate-800/80 text-[8px] text-white px-1.5 py-0.5 rounded-br\">\n        SECTOR MAP\n      </div>\n\n      {/* 2. RENDER STATIC STATIONS (The dots) */}\n      {STATIONS.map((station) => (\n       <div\n  key={station.id}\n  className=\"absolute w-1.5 h-1.5 rounded-full\"\n  style={{\n    left: station.x * scale,\n    top: station.y * scale,\n    // Fix: Fallback to gray string if color is missing\n    backgroundColor: (station.color || \"\").includes('red') ? '#ef4444' : \n                     (station.color || \"\").includes('blue') ? '#3b82f6' : \n                     (station.color || \"\").includes('yellow') ? '#eab308' : '#22c55e'\n  }}\n/>\n      ))}\n\n      {/* 3. RENDER THE PLAYER (Blinking Dot) */}\n      <div\n        className=\"absolute w-2.5 h-2.5 bg-yellow-400 rounded-full border border-white shadow-[0_0_8px_rgba(250,204,21,0.8)] z-10\"\n        style={{\n          left: playerPos.x * scale - 1.25, // Centered\n          top: playerPos.y * scale - 1.25,\n        }}\n      />\n\n      {/* 4. RENDER THE CAMERA VIEWPORT (The Box showing what you see) */}\n      <div \n        className=\"absolute border border-white/30 bg-white/5 pointer-events-none\"\n        style={{\n          width: GAME_CONFIG.viewportWidth * scale,\n          height: GAME_CONFIG.viewportHeight * scale,\n          left: (playerPos.x - GAME_CONFIG.viewportWidth / 2) * scale,\n          top: (playerPos.y - GAME_CONFIG.viewportHeight / 2) * scale,\n        }}\n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASe,SAAS,QAAQ,EAAE,SAAS,EAAgB;IACzD,gCAAgC;IAChC,sDAAsD;IACtD,MAAM,aAAa;IACnB,MAAM,QAAQ,aAAa,wMAAW,CAAC,QAAQ;IAC/C,MAAM,cAAc,wMAAW,CAAC,SAAS,GAAG;IAE5C,qBACE,kTAAC;QACC,WAAU;QACV,OAAO;YAAE,OAAO;YAAY,QAAQ;QAAY;;0BAGhD,kTAAC;gBAAI,WAAU;0BAAuF;;;;;;YAKrG,qMAAQ,CAAC,GAAG,CAAC,CAAC,wBACd,kTAAC;oBAEN,WAAU;oBACV,OAAO;wBACL,MAAM,QAAQ,CAAC,GAAG;wBAClB,KAAK,QAAQ,CAAC,GAAG;wBACjB,mDAAmD;wBACnD,iBAAiB,CAAC,QAAQ,KAAK,IAAI,EAAE,EAAE,QAAQ,CAAC,SAAS,YACxC,CAAC,QAAQ,KAAK,IAAI,EAAE,EAAE,QAAQ,CAAC,UAAU,YACzC,CAAC,QAAQ,KAAK,IAAI,EAAE,EAAE,QAAQ,CAAC,YAAY,YAAY;oBAC1E;mBATK,QAAQ,EAAE;;;;;0BAcX,kTAAC;gBACC,WAAU;gBACV,OAAO;oBACL,MAAM,UAAU,CAAC,GAAG,QAAQ;oBAC5B,KAAK,UAAU,CAAC,GAAG,QAAQ;gBAC7B;;;;;;0BAIF,kTAAC;gBACC,WAAU;gBACV,OAAO;oBACL,OAAO,wMAAW,CAAC,aAAa,GAAG;oBACnC,QAAQ,wMAAW,CAAC,cAAc,GAAG;oBACrC,MAAM,CAAC,UAAU,CAAC,GAAG,wMAAW,CAAC,aAAa,GAAG,CAAC,IAAI;oBACtD,KAAK,CAAC,UAAU,CAAC,GAAG,wMAAW,CAAC,cAAc,GAAG,CAAC,IAAI;gBACxD;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 2960, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/hooks/useChat.ts"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { ref, onValue, push, set, serverTimestamp, query, limitToLast } from \"firebase/database\";\nimport { db } from \"@/lib/firebase\";\n\nexport interface Message {\n  id: string;\n  senderName: string;\n  text: string;\n  timestamp: number;\n}\n\nexport function useChat(chatId: string | null) {\n  const [messages, setMessages] = useState<Message[]>([]);\n\n  // 1. Subscribe to Messages\n  useEffect(() => {\n    if (!chatId) {\n        setMessages([]);\n        return;\n    }\n\n    const messagesRef = ref(db, `chats/${chatId}`);\n    // Only load last 50 messages to save bandwidth\n    const q = query(messagesRef, limitToLast(50));\n\n    const unsubscribe = onValue(q, (snapshot) => {\n      const data = snapshot.val();\n      if (!data) return;\n\n      const loadedMessages = Object.entries(data).map(([key, val]: any) => ({\n        id: key,\n        ...val,\n      }));\n      setMessages(loadedMessages);\n    });\n\n    return () => unsubscribe();\n  }, [chatId]);\n\n  // 2. Send Function\n  const sendMessage = async (senderName: string, text: string) => {\n    if (!chatId || !text.trim()) return;\n\n    const messagesRef = ref(db, `chats/${chatId}`);\n    const newMessageRef = push(messagesRef);\n    \n    await set(newMessageRef, {\n      senderName,\n      text,\n      timestamp: serverTimestamp(),\n    });\n  };\n\n  return { messages, sendMessage };\n}"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AASO,SAAS,QAAQ,MAAqB;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qRAAQ,EAAY,EAAE;IAEtD,2BAA2B;IAC3B,IAAA,sRAAS,EAAC;QACR,IAAI,CAAC,QAAQ;YACT,YAAY,EAAE;YACd;QACJ;QAEA,MAAM,cAAc,IAAA,gQAAG,EAAC,yLAAE,EAAE,CAAC,MAAM,EAAE,QAAQ;QAC7C,+CAA+C;QAC/C,MAAM,IAAI,IAAA,kQAAK,EAAC,aAAa,IAAA,wQAAW,EAAC;QAEzC,MAAM,cAAc,IAAA,oQAAO,EAAC,GAAG,CAAC;YAC9B,MAAM,OAAO,SAAS,GAAG;YACzB,IAAI,CAAC,MAAM;YAEX,MAAM,iBAAiB,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,IAAS,GAAK,CAAC;oBACpE,IAAI;oBACJ,GAAG,GAAG;gBACR,CAAC;YACD,YAAY;QACd;QAEA,OAAO,IAAM;IACf,GAAG;QAAC;KAAO;IAEX,mBAAmB;IACnB,MAAM,cAAc,OAAO,YAAoB;QAC7C,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI;QAE7B,MAAM,cAAc,IAAA,gQAAG,EAAC,yLAAE,EAAE,CAAC,MAAM,EAAE,QAAQ;QAC7C,MAAM,gBAAgB,IAAA,iQAAI,EAAC;QAE3B,MAAM,IAAA,gQAAG,EAAC,eAAe;YACvB;YACA;YACA,WAAW,IAAA,4QAAe;QAC5B;IACF;IAEA,OAAO;QAAE;QAAU;IAAY;AACjC"}},
    {"offset": {"line": 3015, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/ChatModal.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { useChat } from \"@/hooks/useChat\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { X, Send } from \"lucide-react\";\n\ninterface ChatModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  chatId: string;\n  myUsername: string;\n  partnerName: string;\n}\n\nexport default function ChatModal({ isOpen, onClose, chatId, myUsername, partnerName }: ChatModalProps) {\n  const { messages, sendMessage } = useChat(chatId);\n  const [inputText, setInputText] = useState(\"\");\n  const bottomRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to bottom\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, isOpen]);\n\n  const handleSend = () => {\n    sendMessage(myUsername, inputText);\n    setInputText(\"\");\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50 w-80 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl overflow-hidden flex flex-col h-96 animate-in slide-in-from-right-10\">\n      \n      {/* Header */}\n      <div className=\"bg-slate-800 p-3 flex justify-between items-center border-b border-slate-700\">\n        <div className=\"flex items-center gap-2\">\n           <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n           <span className=\"font-bold text-white text-sm\">Chat with {partnerName}</span>\n        </div>\n        <button onClick={onClose} className=\"text-slate-400 hover:text-white\">\n          <X className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Messages Area */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-950/50\">\n        {messages.map((msg) => {\n          const isMe = msg.senderName === myUsername;\n          return (\n            <div key={msg.id} className={`flex flex-col ${isMe ? \"items-end\" : \"items-start\"}`}>\n               <span className=\"text-[10px] text-slate-500 mb-0.5\">{msg.senderName}</span>\n               <div className={`px-3 py-2 rounded-lg text-sm max-w-[85%] break-words ${isMe ? \"bg-blue-600 text-white rounded-br-none\" : \"bg-slate-700 text-slate-200 rounded-bl-none\"}`}>\n                 {msg.text}\n               </div>\n            </div>\n          );\n        })}\n        <div ref={bottomRef} />\n      </div>\n\n      {/* Input Area */}\n      <div className=\"p-3 bg-slate-800 border-t border-slate-700 flex gap-2\">\n        <Input \n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && handleSend()}\n          placeholder=\"Type a message...\"\n          className=\"bg-slate-900 border-slate-600 text-white h-9 text-xs\"\n        />\n        <Button size=\"icon\" onClick={handleSend} className=\"h-9 w-9 bg-blue-600 hover:bg-blue-500\">\n          <Send className=\"w-4 h-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AAUe,SAAS,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAkB;IACpG,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,GAAG,IAAA,+LAAO,EAAC;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qRAAQ,EAAC;IAC3C,MAAM,YAAY,IAAA,mRAAM,EAAiB;IAEzC,wBAAwB;IACxB,IAAA,sRAAS,EAAC;QACR,UAAU,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IACzD,GAAG;QAAC;QAAU;KAAO;IAErB,MAAM,aAAa;QACjB,YAAY,YAAY;QACxB,aAAa;IACf;IAEA,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,kTAAC;QAAI,WAAU;;0BAGb,kTAAC;gBAAI,WAAU;;kCACb,kTAAC;wBAAI,WAAU;;0CACZ,kTAAC;gCAAI,WAAU;;;;;;0CACf,kTAAC;gCAAK,WAAU;;oCAA+B;oCAAW;;;;;;;;;;;;;kCAE7D,kTAAC;wBAAO,SAAS;wBAAS,WAAU;kCAClC,cAAA,kTAAC,qQAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAKjB,kTAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC;wBACb,MAAM,OAAO,IAAI,UAAU,KAAK;wBAChC,qBACE,kTAAC;4BAAiB,WAAW,CAAC,cAAc,EAAE,OAAO,cAAc,eAAe;;8CAC/E,kTAAC;oCAAK,WAAU;8CAAqC,IAAI,UAAU;;;;;;8CACnE,kTAAC;oCAAI,WAAW,CAAC,qDAAqD,EAAE,OAAO,2CAA2C,+CAA+C;8CACtK,IAAI,IAAI;;;;;;;2BAHJ,IAAI,EAAE;;;;;oBAOpB;kCACA,kTAAC;wBAAI,KAAK;;;;;;;;;;;;0BAIZ,kTAAC;gBAAI,WAAU;;kCACb,kTAAC,uMAAK;wBACJ,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC5C,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;wBACvC,aAAY;wBACZ,WAAU;;;;;;kCAEZ,kTAAC,yMAAM;wBAAC,MAAK;wBAAO,SAAS;wBAAY,WAAU;kCACjD,cAAA,kTAAC,8QAAI;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAK1B"}},
    {"offset": {"line": 3195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/Teacher.tsx"],"sourcesContent":["import React from \"react\";\nimport { motion } from \"framer-motion\";\n\ninterface TeacherProps {\n  x: number;\n  y: number;\n  label: string;\n  status?: \"online\" | \"available\" | \"offline\";\n}\n\n// âš ï¸ IMPORTANT: Must be 'export default'\nexport default function Teacher({ x, y, label, status = \"offline\" }: TeacherProps) {\n  const statusColors: Record<string, string> = {\n    online: \"bg-blue-500 shadow-blue-500/50\",\n    available: \"bg-green-500 shadow-green-500/50\",\n    offline: \"bg-zinc-500 shadow-zinc-500/50\",\n  };\n\n  return (\n    <motion.div\n      className=\"absolute flex flex-col items-center justify-center z-10 w-16 h-16 -ml-4 -mt-8\"\n      initial={{ x, y }}\n      animate={{ y: [y, y - 4, y] }}\n      transition={{ repeat: Infinity, duration: 2.5, ease: \"easeInOut\" }}\n    >\n      <div className={`absolute -top-10 flex items-center gap-1 px-2 py-0.5 rounded-full bg-black/80 border border-white/10 backdrop-blur-md`}>\n        <div className={`w-2 h-2 rounded-full shadow-[0_0_8px] ${statusColors[status] || statusColors.offline} animate-pulse`} />\n        <span className=\"text-[8px] text-white font-bold uppercase tracking-wide\">\n          {status === 'available' ? \"Accepting Doubts\" : status}\n        </span>\n      </div>\n\n      <img \n        src=\"/characters/teacher.png\" \n        alt=\"Professor\"\n        className=\"w-full h-full object-contain pixelated drop-shadow-md\" \n        onError={(e) => { e.currentTarget.src = \"https://api.dicebear.com/7.x/avataaars/svg?seed=Professor&clothing=blazerAndShirt\"; }}\n      />\n\n      <div className=\"absolute -top-4 bg-yellow-600/90 border border-yellow-400 px-2 py-0.5 rounded text-[10px] text-white font-bold whitespace-nowrap shadow-lg z-20\">\n        {label}\n      </div>\n    </motion.div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;;;AAUe,SAAS,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,SAAS,SAAS,EAAgB;IAC/E,MAAM,eAAuC;QAC3C,QAAQ;QACR,WAAW;QACX,SAAS;IACX;IAEA,qBACE,kTAAC,wQAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE;YAAG;QAAE;QAChB,SAAS;YAAE,GAAG;gBAAC;gBAAG,IAAI;gBAAG;aAAE;QAAC;QAC5B,YAAY;YAAE,QAAQ;YAAU,UAAU;YAAK,MAAM;QAAY;;0BAEjE,kTAAC;gBAAI,WAAW,CAAC,qHAAqH,CAAC;;kCACrI,kTAAC;wBAAI,WAAW,CAAC,sCAAsC,EAAE,YAAY,CAAC,OAAO,IAAI,aAAa,OAAO,CAAC,cAAc,CAAC;;;;;;kCACrH,kTAAC;wBAAK,WAAU;kCACb,WAAW,cAAc,qBAAqB;;;;;;;;;;;;0BAInD,kTAAC;gBACC,KAAI;gBACJ,KAAI;gBACJ,WAAU;gBACV,SAAS,CAAC;oBAAQ,EAAE,aAAa,CAAC,GAAG,GAAG;gBAAqF;;;;;;0BAG/H,kTAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 3283, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/hud/TeacherDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { User, MessageSquareReply, X, Send } from \"lucide-react\";\nimport { db } from \"@/lib/firebase\";\nimport { ref, onValue, update } from \"firebase/database\";\nimport { toast } from \"sonner\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\n\ninterface Doubt {\n  id: string;\n  studentName: string;\n  text: string;\n  timestamp: number;\n  status: \"pending\" | \"resolved\";\n  answer?: string; // New field\n}\n\nexport default function TeacherDashboard() {\n  const [doubts, setDoubts] = useState<Doubt[]>([]);\n  \n  // Reply State\n  const [replyText, setReplyText] = useState(\"\");\n  const [selectedDoubt, setSelectedDoubt] = useState<Doubt | null>(null);\n\n  useEffect(() => {\n    // Listen to ALL doubts\n    const doubtsRef = ref(db, \"doubts\");\n    const unsubscribe = onValue(doubtsRef, (snapshot) => {\n      const data = snapshot.val();\n      if (data) {\n        const list = Object.entries(data)\n          .map(([key, val]: [string, any]) => ({ id: key, ...val }))\n          // Sort: Pending first, then by time\n          .sort((a: any, b: any) => b.timestamp - a.timestamp); \n        setDoubts(list);\n      } else {\n        setDoubts([]);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const handleReply = async () => {\n    if (!selectedDoubt || !replyText.trim()) return;\n\n    try {\n      // Update Firebase instead of removing\n      const doubtRef = ref(db, `doubts/${selectedDoubt.id}`);\n      await update(doubtRef, {\n        status: \"resolved\",\n        answer: replyText,\n        resolvedAt: Date.now()\n      });\n\n      toast.success(`Replied to ${selectedDoubt.studentName}!`);\n      setReplyText(\"\");\n      setSelectedDoubt(null);\n    } catch (err: any) {\n      toast.error(\"Failed to send reply\");\n    }\n  };\n\n  return (\n    <>\n      <div className=\"absolute right-4 top-20 w-80 bg-zinc-900/95 border border-yellow-500/30 rounded-xl shadow-2xl backdrop-blur-md overflow-hidden flex flex-col max-h-[70vh] z-50\">\n        <div className=\"bg-yellow-600/20 p-4 border-b border-yellow-500/20 flex justify-between items-center\">\n          <h3 className=\"text-yellow-400 font-bold flex items-center gap-2\">\n            <User className=\"w-4 h-4\" /> Professor Dashboard\n          </h3>\n          <span className=\"text-[10px] bg-yellow-500/20 text-yellow-200 px-2 py-0.5 rounded-full border border-yellow-500/30\">\n            {doubts.filter(d => d.status === 'pending').length} Pending\n          </span>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto p-2 space-y-2\">\n          {doubts.length === 0 ? (\n            <div className=\"text-zinc-500 text-xs text-center py-8 italic\">No active doubts.</div>\n          ) : (\n            doubts.map((doubt) => (\n              <div \n                key={doubt.id} \n                className={`p-3 rounded-lg border transition-all ${\n                  doubt.status === 'resolved' \n                    ? \"bg-zinc-900/50 border-zinc-800 opacity-60\" \n                    : \"bg-black/40 border-yellow-500/30 hover:border-yellow-500/50\"\n                }`}\n              >\n                <div className=\"flex justify-between items-start mb-1\">\n                  <span className={`text-xs font-bold ${doubt.status === 'resolved' ? 'text-zinc-500' : 'text-blue-400'}`}>\n                    {doubt.studentName}\n                  </span>\n                  <span className=\"text-zinc-600 text-[10px]\">\n                     {new Date(doubt.timestamp).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}\n                  </span>\n                </div>\n                \n                <p className=\"text-zinc-300 text-sm mb-3 leading-relaxed\">\"{doubt.text}\"</p>\n                \n                {doubt.status === 'resolved' && doubt.answer && (\n                   <div className=\"mb-2 pl-2 border-l-2 border-green-500/50 text-xs text-green-400/80\">\n                      You: {doubt.answer}\n                   </div>\n                )}\n\n                {doubt.status === 'pending' && (\n                  <Button \n                    onClick={() => setSelectedDoubt(doubt)}\n                    className=\"w-full h-7 text-xs bg-yellow-600/20 hover:bg-yellow-600/40 text-yellow-400 border border-yellow-600/30\"\n                  >\n                    <MessageSquareReply className=\"w-3 h-3 mr-1\" /> Reply\n                  </Button>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Reply Dialog */}\n      <Dialog open={!!selectedDoubt} onOpenChange={(open) => !open && setSelectedDoubt(null)}>\n        <DialogContent className=\"bg-zinc-900 border-zinc-700 text-white sm:max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"text-yellow-400 flex items-center gap-2\">\n               <MessageSquareReply className=\"w-5 h-5\"/> Reply to Student\n            </DialogTitle>\n          </DialogHeader>\n          \n          <div className=\"space-y-4\">\n            <div className=\"bg-black/40 p-3 rounded text-sm text-zinc-400 border border-zinc-800\">\n               <span className=\"text-xs text-zinc-500 uppercase font-bold block mb-1\">Question from {selectedDoubt?.studentName}:</span>\n               \"{selectedDoubt?.text}\"\n            </div>\n\n            <div className=\"space-y-2\">\n               <label className=\"text-xs font-bold text-zinc-300 uppercase\">Your Answer</label>\n               <textarea \n                  className=\"w-full h-32 bg-black border border-zinc-700 rounded p-2 text-sm text-white focus:outline-none focus:border-yellow-500\"\n                  placeholder=\"Type your explanation here...\"\n                  value={replyText}\n                  onChange={(e) => setReplyText(e.target.value)}\n               />\n            </div>\n\n            <div className=\"flex justify-end gap-2\">\n               <Button variant=\"ghost\" onClick={() => setSelectedDoubt(null)} className=\"text-zinc-400\">Cancel</Button>\n               <Button \n                 onClick={handleReply} \n                 className=\"bg-yellow-600 hover:bg-yellow-500 text-white\"\n                 disabled={!replyText.trim()}\n               >\n                 <Send className=\"w-4 h-4 mr-2\"/> Send Reply\n               </Button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3632, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,kTAAC,4OAAkB;QACjB,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,kTAAC,4OAAkB;QACjB,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,kTAAC,+OAAqB;QACpB,aAAU;QACV,WAAW,IAAA,sLAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,kTAAC,+OAAqB;QACpB,aAAU;QACV,WAAW,IAAA,sLAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 3698, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/lib/google-api.ts"],"sourcesContent":["// Helper function to handle fetch calls\r\nconst fetchGoogle = async (url: string, token: string, method = \"GET\", body: any = null) => {\r\n  const headers: any = {\r\n    \"Authorization\": `Bearer ${token}`,\r\n    \"Content-Type\": \"application/json\",\r\n  };\r\n\r\n  const options: RequestInit = { method, headers };\r\n  if (body) options.body = JSON.stringify(body);\r\n\r\n  const res = await fetch(url, options);\r\n  if (!res.ok) {\r\n    const error = await res.json();\r\n    throw new Error(error.error?.message || \"Google API Error\");\r\n  }\r\n  return await res.json();\r\n};\r\n\r\nexport const GoogleAPI = {\r\n  // --- CLASSROOM ---\r\n  getCourses: async (token: string) => {\r\n    // Returns list of active courses\r\n    const data = await fetchGoogle(\"https://classroom.googleapis.com/v1/courses?courseStates=ACTIVE\", token);\r\n    return data.courses || [];\r\n  },\r\n\r\n  // Get Students in a Course\r\n  getStudents: async (token: string, courseId: string) => {\r\n    const data = await fetchGoogle(`https://classroom.googleapis.com/v1/courses/${courseId}/students`, token);\r\n    return data.students || [];\r\n  },\r\n\r\n  \r\n  //Create a brand new Course\r\n  createCourse: async (token: string, name: string, section: string) => {\r\n    const body = {\r\n      name,\r\n      section,\r\n      ownerId: \"me\", // \"me\" refers to the authenticated user\r\n      courseState: \"PROVISIONED\", // Creates it in \"Draft\" mode first (safer) or \"ACTIVE\"\r\n    };\r\n    return await fetchGoogle(\"https://classroom.googleapis.com/v1/courses\", token, \"POST\", body);\r\n  },\r\n\r\n  // Create Assignment\r\n  createAssignment: async (token: string, courseId: string, title: string, description: string) => {\r\n    const body = {\r\n      title,\r\n      description,\r\n      workType: \"ASSIGNMENT\",\r\n      state: \"PUBLISHED\", // Immediately visible to students\r\n      maxPoints: 100,\r\n    };\r\n    return await fetchGoogle(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWork`, token, \"POST\", body);\r\n  },\r\n\r\n  getCourseWork: async (token: string, courseId: string) => {\r\n    const data = await fetchGoogle(`https://classroom.googleapis.com/v1/courses/${courseId}/courseWork`, token);\r\n    return data.courseWork || [];\r\n  },\r\n\r\n  // --- CALENDAR ---\r\n  getEvents: async (token: string) => {\r\n    const now = new Date().toISOString();\r\n    // Get primary calendar events from now onwards\r\n    const data = await fetchGoogle(\r\n      `https://www.googleapis.com/calendar/v3/calendars/primary/events?timeMin=${now}&orderBy=startTime&singleEvents=true`, \r\n      token\r\n    );\r\n    return data.items || [];\r\n  },\r\n\r\n  addEvent: async (token: string, summary: string, description: string, startTime: string, endTime: string) => {\r\n    const event = {\r\n      summary,\r\n      description,\r\n      start: { dateTime: startTime },\r\n      end: { dateTime: endTime },\r\n    };\r\n    return await fetchGoogle(\"https://www.googleapis.com/calendar/v3/calendars/primary/events\", token, \"POST\", event);\r\n  },\r\n\r\n  // --- SHEETS ---\r\n  createSheet: async (token: string, title: string) => {\r\n    const body = { properties: { title } };\r\n    return await fetchGoogle(\"https://sheets.googleapis.com/v4/spreadsheets\", token, \"POST\", body);\r\n  },\r\n\r\n  appendData: async (token: string, spreadsheetId: string, range: string, values: string[][]) => {\r\n    const url = `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${range}:append?valueInputOption=USER_ENTERED`;\r\n    const body = { values };\r\n    return await fetchGoogle(url, token, \"POST\", body);\r\n  }\r\n};"],"names":[],"mappings":";;;;AAAA,wCAAwC;AACxC,MAAM,cAAc,OAAO,KAAa,OAAe,SAAS,KAAK,EAAE,OAAY,IAAI;IACrF,MAAM,UAAe;QACnB,iBAAiB,CAAC,OAAO,EAAE,OAAO;QAClC,gBAAgB;IAClB;IAEA,MAAM,UAAuB;QAAE;QAAQ;IAAQ;IAC/C,IAAI,MAAM,QAAQ,IAAI,GAAG,KAAK,SAAS,CAAC;IAExC,MAAM,MAAM,MAAM,MAAM,KAAK;IAC7B,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,MAAM,KAAK,EAAE,WAAW;IAC1C;IACA,OAAO,MAAM,IAAI,IAAI;AACvB;AAEO,MAAM,YAAY;IACvB,oBAAoB;IACpB,YAAY,OAAO;QACjB,iCAAiC;QACjC,MAAM,OAAO,MAAM,YAAY,mEAAmE;QAClG,OAAO,KAAK,OAAO,IAAI,EAAE;IAC3B;IAEA,2BAA2B;IAC3B,aAAa,OAAO,OAAe;QACjC,MAAM,OAAO,MAAM,YAAY,CAAC,4CAA4C,EAAE,SAAS,SAAS,CAAC,EAAE;QACnG,OAAO,KAAK,QAAQ,IAAI,EAAE;IAC5B;IAGA,2BAA2B;IAC3B,cAAc,OAAO,OAAe,MAAc;QAChD,MAAM,OAAO;YACX;YACA;YACA,SAAS;YACT,aAAa;QACf;QACA,OAAO,MAAM,YAAY,+CAA+C,OAAO,QAAQ;IACzF;IAEA,oBAAoB;IACpB,kBAAkB,OAAO,OAAe,UAAkB,OAAe;QACvE,MAAM,OAAO;YACX;YACA;YACA,UAAU;YACV,OAAO;YACP,WAAW;QACb;QACA,OAAO,MAAM,YAAY,CAAC,4CAA4C,EAAE,SAAS,WAAW,CAAC,EAAE,OAAO,QAAQ;IAChH;IAEA,eAAe,OAAO,OAAe;QACnC,MAAM,OAAO,MAAM,YAAY,CAAC,4CAA4C,EAAE,SAAS,WAAW,CAAC,EAAE;QACrG,OAAO,KAAK,UAAU,IAAI,EAAE;IAC9B;IAEA,mBAAmB;IACnB,WAAW,OAAO;QAChB,MAAM,MAAM,IAAI,OAAO,WAAW;QAClC,+CAA+C;QAC/C,MAAM,OAAO,MAAM,YACjB,CAAC,wEAAwE,EAAE,IAAI,oCAAoC,CAAC,EACpH;QAEF,OAAO,KAAK,KAAK,IAAI,EAAE;IACzB;IAEA,UAAU,OAAO,OAAe,SAAiB,aAAqB,WAAmB;QACvF,MAAM,QAAQ;YACZ;YACA;YACA,OAAO;gBAAE,UAAU;YAAU;YAC7B,KAAK;gBAAE,UAAU;YAAQ;QAC3B;QACA,OAAO,MAAM,YAAY,mEAAmE,OAAO,QAAQ;IAC7G;IAEA,iBAAiB;IACjB,aAAa,OAAO,OAAe;QACjC,MAAM,OAAO;YAAE,YAAY;gBAAE;YAAM;QAAE;QACrC,OAAO,MAAM,YAAY,iDAAiD,OAAO,QAAQ;IAC3F;IAEA,YAAY,OAAO,OAAe,eAAuB,OAAe;QACtE,MAAM,MAAM,CAAC,8CAA8C,EAAE,cAAc,QAAQ,EAAE,MAAM,qCAAqC,CAAC;QACjI,MAAM,OAAO;YAAE;QAAO;QACtB,OAAO,MAAM,YAAY,KAAK,OAAO,QAAQ;IAC/C;AACF"}},
    {"offset": {"line": 3798, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/dashboard/ClassroomPanel.tsx"],"sourcesContent":["// \"use client\";\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { GoogleAPI } from \"@/lib/google-api\";\r\n// import { Card } from \"@/components/ui/card\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import { Loader2, ExternalLink } from \"lucide-react\";\r\n// import { toast } from \"sonner\";\r\n\r\n// export default function ClassroomPanel({ token, isTeacher }: { token: string, isTeacher: boolean }) {\r\n//   const [courses, setCourses] = useState<any[]>([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     loadCourses();\r\n//   }, []);\r\n\r\n//   const loadCourses = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const data = await GoogleAPI.getCourses(token);\r\n//       setCourses(data);\r\n//     } catch (error) {\r\n//       toast.error(\"Failed to load courses\");\r\n//       console.error(error);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"space-y-6\">\r\n//       <div className=\"flex justify-between items-center\">\r\n//         <h2 className=\"text-xl font-bold text-white\">Active Courses</h2>\r\n//         <Button variant=\"outline\" size=\"sm\" onClick={loadCourses} disabled={loading}>\r\n//           {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Refresh\"}\r\n//         </Button>\r\n//       </div>\r\n\r\n//       {/* Teacher Action Bar */}\r\n//       {isTeacher && (\r\n//         <div className=\"bg-yellow-500/10 border border-yellow-500/30 p-4 rounded-lg mb-4\">\r\n//           <p className=\"text-yellow-400 text-sm font-bold mb-2\">Professor Controls</p>\r\n//           <div className=\"flex gap-2\">\r\n//             <Button size=\"sm\" className=\"bg-yellow-600 hover:bg-yellow-500 text-white\">Create New Assignment</Button>\r\n//             <Button size=\"sm\" variant=\"secondary\">Manage Students</Button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Course Grid */}\r\n//       <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n//         {courses.length === 0 && !loading && (\r\n//           <div className=\"col-span-full text-center text-zinc-500 py-10\">No active Google Classroom courses found.</div>\r\n//         )}\r\n        \r\n//         {courses.map((course) => (\r\n//           <Card key={course.id} className=\"bg-zinc-950 border-zinc-800 p-4 flex flex-col justify-between hover:border-blue-500/50 transition-all\">\r\n//             <div>\r\n//               <h3 className=\"text-lg font-bold text-white mb-1\">{course.name}</h3>\r\n//               <p className=\"text-sm text-zinc-400\">{course.section}</p>\r\n//               {course.descriptionHeading && <p className=\"text-xs text-zinc-500 mt-2\">{course.descriptionHeading}</p>}\r\n//             </div>\r\n//             <div className=\"mt-4 pt-4 border-t border-zinc-800 flex justify-between items-center\">\r\n//               <span className=\"text-xs bg-blue-900/30 text-blue-400 px-2 py-1 rounded\">\r\n//                 {course.courseState}\r\n//               </span>\r\n//               <a href={course.alternateLink} target=\"_blank\" rel=\"noreferrer\" className=\"text-sm flex items-center gap-1 text-zinc-300 hover:text-white hover:underline\">\r\n//                 Open <ExternalLink className=\"w-3 h-3\" />\r\n//               </a>\r\n//             </div>\r\n//           </Card>\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n///////////////////////////////////////\r\n\r\n// \"use client\";\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { GoogleAPI } from \"@/lib/google-api\";\r\n// import { Card } from \"@/components/ui/card\";\r\n// import { Button } from \"@/components/ui/button\";\r\n// import { Input } from \"@/components/ui/input\";\r\n// import { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\n// import { Loader2, ExternalLink, Plus, Users, School } from \"lucide-react\";\r\n// import { toast } from \"sonner\";\r\n\r\n// export default function ClassroomPanel({ token, isTeacher }: { token: string, isTeacher: boolean }) {\r\n//   const [courses, setCourses] = useState<any[]>([]);\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // --- MODAL STATE ---\r\n//   const [activeCourseId, setActiveCourseId] = useState<string | null>(null);\r\n//   const [modalType, setModalType] = useState<\"create_course\" | \"assignment\" | \"students\" | null>(null);\r\n  \r\n//   // Inputs\r\n//   const [newCourseName, setNewCourseName] = useState(\"\");\r\n//   const [newCourseSection, setNewCourseSection] = useState(\"\");\r\n//   const [assignTitle, setAssignTitle] = useState(\"\");\r\n//   const [assignDesc, setAssignDesc] = useState(\"\");\r\n  \r\n//   // Student List\r\n//   const [students, setStudents] = useState<any[]>([]);\r\n\r\n//   useEffect(() => {\r\n//     loadCourses();\r\n//   }, []);\r\n\r\n//   const loadCourses = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const data = await GoogleAPI.getCourses(token);\r\n//       setCourses(data);\r\n//     } catch (error: any) {\r\n//       toast.error(\"Error: \" + error.message);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // 1. HANDLE CREATE COURSE (NEW)\r\n//   const handleCreateCourse = async () => {\r\n//     if (!newCourseName) return;\r\n//     toast.loading(\"Creating Classroom...\");\r\n//     try {\r\n//       await GoogleAPI.createCourse(token, newCourseName, newCourseSection || \"NetVerse Lab\");\r\n//       toast.dismiss();\r\n//       toast.success(\"Classroom Created!\");\r\n//       closeModal();\r\n//       loadCourses(); // Refresh list\r\n//     } catch (error) {\r\n//       toast.dismiss();\r\n//       toast.error(\"Failed to create course. Ensure you are a verified teacher.\");\r\n//     }\r\n//   };\r\n\r\n//   // 2. HANDLE CREATE ASSIGNMENT\r\n//   const handleCreateAssignment = async () => {\r\n//     if (!activeCourseId || !assignTitle) return;\r\n    \r\n//     toast.loading(\"Publishing to Classroom...\");\r\n//     try {\r\n//       await GoogleAPI.createAssignment(token, activeCourseId, assignTitle, assignDesc);\r\n//       toast.dismiss();\r\n//       toast.success(\"Assignment Created!\");\r\n//       closeModal();\r\n//     } catch (error) {\r\n//       toast.dismiss();\r\n//       toast.error(\"Failed to create assignment\");\r\n//     }\r\n//   };\r\n\r\n//   // 3. HANDLE VIEW STUDENTS\r\n//   const handleViewStudents = async (courseId: string) => {\r\n//     setActiveCourseId(courseId);\r\n//     setModalType(\"students\");\r\n//     setStudents([]); \r\n\r\n//     try {\r\n//       const list = await GoogleAPI.getStudents(token, courseId);\r\n//       setStudents(list);\r\n//     } catch (error) {\r\n//       toast.error(\"Could not fetch roster\");\r\n//     }\r\n//   };\r\n\r\n//   const closeModal = () => {\r\n//     setActiveCourseId(null);\r\n//     setModalType(null);\r\n//     setNewCourseName(\"\");\r\n//     setNewCourseSection(\"\");\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"space-y-6\">\r\n//       <div className=\"flex justify-between items-center bg-zinc-900/50 p-4 rounded-lg border border-zinc-800\">\r\n//         <div>\r\n//            <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n//              <School className=\"w-6 h-6 text-blue-500\" /> Active Classrooms\r\n//            </h2>\r\n//            <p className=\"text-xs text-zinc-500\">Manage your virtual labs and students</p>\r\n//         </div>\r\n        \r\n//         <div className=\"flex gap-2\">\r\n//            <Button variant=\"outline\" size=\"sm\" onClick={loadCourses} disabled={loading}>\r\n//             {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Refresh\"}\r\n//            </Button>\r\n           \r\n//            {isTeacher && (\r\n//              <Button size=\"sm\" onClick={() => setModalType(\"create_course\")} className=\"bg-green-600 hover:bg-green-500 text-white\">\r\n//                <Plus className=\"w-4 h-4 mr-2\" /> New Class\r\n//              </Button>\r\n//            )}\r\n//         </div>\r\n//       </div>\r\n\r\n//       <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n//         {courses.length === 0 && !loading && (\r\n//           <div className=\"col-span-full flex flex-col items-center justify-center py-12 text-zinc-500 border-2 border-dashed border-zinc-800 rounded-xl\">\r\n//             <School className=\"w-12 h-12 mb-4 opacity-20\" />\r\n//             <p className=\"font-bold\">No active courses found.</p>\r\n//             {isTeacher && (\r\n//                <Button variant=\"link\" onClick={() => setModalType(\"create_course\")} className=\"text-blue-400\">\r\n//                  Create your first Virtual Lab Class\r\n//                </Button>\r\n//             )}\r\n//           </div>\r\n//         )}\r\n        \r\n//         {courses.map((course) => (\r\n//           <Card key={course.id} className=\"bg-zinc-950 border-zinc-800 p-4 flex flex-col justify-between hover:border-blue-500/50 transition-all group\">\r\n//             <div>\r\n//               <div className=\"flex justify-between items-start mb-1\">\r\n//                  <h3 className=\"text-lg font-bold text-white truncate w-[80%]\">{course.name}</h3>\r\n//                  <a href={course.alternateLink} target=\"_blank\" rel=\"noreferrer\" className=\"text-zinc-600 hover:text-white transition-colors\">\r\n//                     <ExternalLink className=\"w-4 h-4\" />\r\n//                  </a>\r\n//               </div>\r\n//               <p className=\"text-sm text-zinc-400 mb-4\">{course.section || \"General\"}</p>\r\n              \r\n//               {/* TEACHER CONTROLS */}\r\n//               {isTeacher && (\r\n//                 <div className=\"grid grid-cols-2 gap-2 mb-4 opacity-100 sm:opacity-40 group-hover:opacity-100 transition-opacity\">\r\n//                   <Button \r\n//                     size=\"sm\" \r\n//                     className=\"bg-zinc-800 hover:bg-zinc-700 text-xs h-8 border border-zinc-700\"\r\n//                     onClick={() => handleViewStudents(course.id)}\r\n//                   >\r\n//                     <Users className=\"w-3 h-3 mr-1\" /> Roster\r\n//                   </Button>\r\n//                   <Button \r\n//                     size=\"sm\" \r\n//                     className=\"bg-blue-600 hover:bg-blue-500 text-xs h-8\"\r\n//                     onClick={() => { setActiveCourseId(course.id); setModalType(\"assignment\"); }}\r\n//                   >\r\n//                     <Plus className=\"w-3 h-3 mr-1\" /> Assign\r\n//                   </Button>\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n\r\n//             <div className=\"pt-3 border-t border-zinc-900 flex justify-between items-center\">\r\n//               <span className={`text-[10px] px-2 py-0.5 rounded uppercase tracking-wider font-bold ${course.courseState === 'ACTIVE' ? 'bg-green-900/20 text-green-400' : 'bg-yellow-900/20 text-yellow-400'}`}>\r\n//                 {course.courseState}\r\n//               </span>\r\n//               <span className=\"text-[10px] text-zinc-600 font-mono\">ID: {course.id.slice(-4)}</span>\r\n//             </div>\r\n//           </Card>\r\n//         ))}\r\n//       </div>\r\n\r\n//       {/* --- MODALS --- */}\r\n//       <Dialog open={!!modalType} onOpenChange={(open) => !open && closeModal()}>\r\n//         <DialogContent className=\"bg-zinc-900 border-zinc-800 text-white sm:max-w-md\">\r\n//           <DialogHeader>\r\n//             <DialogTitle>\r\n//               {modalType === 'create_course' && 'Create Virtual Lab Class'}\r\n//               {modalType === 'assignment' && 'Create New Assignment'}\r\n//               {modalType === 'students' && 'Student Roster'}\r\n//             </DialogTitle>\r\n//           </DialogHeader>\r\n\r\n//           {/* 1. CREATE COURSE FORM */}\r\n//           {modalType === 'create_course' && (\r\n//             <div className=\"space-y-4 pt-4\">\r\n//                <div className=\"bg-blue-900/20 border border-blue-500/30 p-3 rounded text-xs text-blue-200\">\r\n//                   This will create a real Google Classroom course linked to this Metaverse account.\r\n//                </div>\r\n//                <div className=\"space-y-2\">\r\n//                 <label className=\"text-xs font-bold text-zinc-400\">Class Name</label>\r\n//                 <Input \r\n//                   value={newCourseName} \r\n//                   onChange={(e) => setNewCourseName(e.target.value)} \r\n//                   className=\"bg-black border-zinc-700\"\r\n//                   placeholder=\"e.g., CS101: Data Structures\"\r\n//                 />\r\n//               </div>\r\n//               <div className=\"space-y-2\">\r\n//                 <label className=\"text-xs font-bold text-zinc-400\">Section (Optional)</label>\r\n//                 <Input \r\n//                   value={newCourseSection} \r\n//                   onChange={(e) => setNewCourseSection(e.target.value)} \r\n//                   className=\"bg-black border-zinc-700\"\r\n//                   placeholder=\"e.g., Lab Group A\"\r\n//                 />\r\n//               </div>\r\n//               <Button onClick={handleCreateCourse} className=\"w-full bg-green-600 hover:bg-green-500 font-bold\">\r\n//                 Create Classroom\r\n//               </Button>\r\n//             </div>\r\n//           )}\r\n\r\n//           {/* 2. ASSIGNMENT FORM */}\r\n//           {modalType === 'assignment' && (\r\n//             <div className=\"space-y-4 pt-4\">\r\n//               <div className=\"space-y-2\">\r\n//                 <label className=\"text-xs font-bold text-zinc-400\">Assignment Title</label>\r\n//                 <Input \r\n//                   value={assignTitle} \r\n//                   onChange={(e) => setAssignTitle(e.target.value)} \r\n//                   className=\"bg-black border-zinc-700\"\r\n//                   placeholder=\"e.g., Lab Report 4\"\r\n//                 />\r\n//               </div>\r\n//               <div className=\"space-y-2\">\r\n//                 <label className=\"text-xs font-bold text-zinc-400\">Description</label>\r\n//                 <textarea \r\n//                   value={assignDesc} \r\n//                   onChange={(e) => setAssignDesc(e.target.value)} \r\n//                   className=\"w-full h-24 bg-black border border-zinc-700 rounded-md p-2 text-sm text-white focus:outline-none focus:border-blue-500 resize-none\"\r\n//                   placeholder=\"Instructions for students...\"\r\n//                 />\r\n//               </div>\r\n//               <Button onClick={handleCreateAssignment} className=\"w-full bg-blue-600 hover:bg-blue-500\">\r\n//                 Publish Assignment\r\n//               </Button>\r\n//             </div>\r\n//           )}\r\n\r\n//           {/* 3. STUDENT LIST */}\r\n//           {modalType === 'students' && (\r\n//             <div className=\"pt-2 max-h-[300px] overflow-y-auto space-y-2\">\r\n//               {students.length === 0 ? (\r\n//                 <div className=\"text-center py-6\">\r\n//                    <Users className=\"w-8 h-8 text-zinc-700 mx-auto mb-2\" />\r\n//                    <p className=\"text-zinc-500 text-sm\">No students enrolled yet.</p>\r\n//                    <p className=\"text-xs text-zinc-600 mt-1\">Share the Google Classroom code with students.</p>\r\n//                 </div>\r\n//               ) : (\r\n//                 students.map((student) => (\r\n//                   <div key={student.userId} className=\"flex items-center gap-3 p-2 bg-black/40 rounded border border-zinc-800\">\r\n//                     <div className=\"w-8 h-8 bg-zinc-800 rounded-full flex items-center justify-center text-xs font-bold text-zinc-400\">\r\n//                       {student.profile?.name?.fullName?.[0] || \"?\"}\r\n//                     </div>\r\n//                     <div>\r\n//                       <p className=\"text-sm font-bold text-zinc-200\">{student.profile?.name?.fullName}</p>\r\n//                       <p className=\"text-[10px] text-zinc-500\">{student.profile?.emailAddress}</p>\r\n//                     </div>\r\n//                   </div>\r\n//                 ))\r\n//               )}\r\n//             </div>\r\n//           )}\r\n//         </DialogContent>\r\n//       </Dialog>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { GoogleAPI } from \"@/lib/google-api\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\r\nimport { Loader2, ExternalLink, Plus, Users, School, ChevronLeft } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function ClassroomPanel({ token, isTeacher }: { token: string, isTeacher: boolean }) {\r\n  const [courses, setCourses] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // --- UI STATES ---\r\n  // \"view\" replaces \"modalType\" for the main create actions to avoid nested dialogs\r\n  const [view, setView] = useState<\"list\" | \"create_course\">(\"list\");\r\n  \r\n  // MODAL STATES (For assignments/students only)\r\n  const [activeCourseId, setActiveCourseId] = useState<string | null>(null);\r\n  const [modalType, setModalType] = useState<\"assignment\" | \"students\" | null>(null);\r\n  \r\n  // Inputs\r\n  const [newCourseName, setNewCourseName] = useState(\"\");\r\n  const [newCourseSection, setNewCourseSection] = useState(\"\");\r\n  const [assignTitle, setAssignTitle] = useState(\"\");\r\n  const [assignDesc, setAssignDesc] = useState(\"\");\r\n  \r\n  // Student List\r\n  const [students, setStudents] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadCourses();\r\n  }, []);\r\n\r\n  const loadCourses = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await GoogleAPI.getCourses(token);\r\n      setCourses(data);\r\n    } catch (error: any) {\r\n      console.error(\"Load Courses Error:\", error);\r\n      toast.error(\"Error: \" + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 1. HANDLE CREATE COURSE\r\n  const handleCreateCourse = async () => {\r\n    if (!newCourseName) return;\r\n    toast.loading(\"Creating Classroom...\");\r\n    \r\n    try {\r\n      // PROVISIONED = Draft mode. ACTIVE = Live.\r\n      await GoogleAPI.createCourse(token, newCourseName, newCourseSection || \"NetVerse Lab\");\r\n      toast.dismiss();\r\n      toast.success(\"Classroom Created!\");\r\n      setView(\"list\");\r\n      setNewCourseName(\"\");\r\n      loadCourses(); \r\n    } catch (error: any) {\r\n      toast.dismiss();\r\n      console.error(\"CREATE COURSE ERROR:\", error);\r\n      \r\n      // Specific error handling for Personal Gmail accounts\r\n      if (error.message?.includes(\"403\") || error.message?.includes(\"PERMISSION_DENIED\")) {\r\n        toast.error(\"Permission Denied: Personal Gmail accounts cannot create classes via API. Please create it manually at classroom.google.com and refresh.\");\r\n      } else {\r\n        toast.error(\"Failed to create course. Check console for details.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // 2. HANDLE CREATE ASSIGNMENT\r\n  const handleCreateAssignment = async () => {\r\n    if (!activeCourseId || !assignTitle) return;\r\n    \r\n    toast.loading(\"Publishing to Classroom...\");\r\n    try {\r\n      await GoogleAPI.createAssignment(token, activeCourseId, assignTitle, assignDesc);\r\n      toast.dismiss();\r\n      toast.success(\"Assignment Created!\");\r\n      closeModal();\r\n    } catch (error) {\r\n      toast.dismiss();\r\n      toast.error(\"Failed to create assignment\");\r\n    }\r\n  };\r\n\r\n  // 3. HANDLE VIEW STUDENTS\r\n  const handleViewStudents = async (courseId: string) => {\r\n    setActiveCourseId(courseId);\r\n    setModalType(\"students\");\r\n    setStudents([]); \r\n\r\n    try {\r\n      const list = await GoogleAPI.getStudents(token, courseId);\r\n      setStudents(list);\r\n    } catch (error) {\r\n      toast.error(\"Could not fetch roster\");\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setActiveCourseId(null);\r\n    setModalType(null);\r\n  };\r\n\r\n  // --- VIEW: CREATE COURSE FORM (Inline instead of Modal) ---\r\n  if (view === \"create_course\") {\r\n    return (\r\n      <div className=\"space-y-6 animate-in slide-in-from-right-10 fade-in\">\r\n        <div className=\"flex items-center gap-2 mb-6\">\r\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => setView(\"list\")} className=\"text-zinc-400\">\r\n            <ChevronLeft className=\"w-4 h-4 mr-1\" /> Back\r\n          </Button>\r\n          <h2 className=\"text-xl font-bold text-white\">Create Virtual Lab Class</h2>\r\n        </div>\r\n\r\n        <Card className=\"bg-zinc-900 border-zinc-800 p-6 max-w-lg mx-auto\">\r\n          <div className=\"space-y-4\">\r\n             <div className=\"bg-blue-900/20 border border-blue-500/30 p-3 rounded text-xs text-blue-200\">\r\n                <strong>Note:</strong> If using a personal Gmail account (@gmail.com), Google blocks API course creation. You must use a Workspace account or create the class manually.\r\n             </div>\r\n             <div className=\"space-y-2\">\r\n              <label className=\"text-xs font-bold text-zinc-400\">Class Name</label>\r\n              <Input \r\n                value={newCourseName} \r\n                onChange={(e) => setNewCourseName(e.target.value)} \r\n                className=\"bg-black border-zinc-700 text-white\"\r\n                placeholder=\"e.g., CS101: Data Structures\"\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-xs font-bold text-zinc-400\">Section (Optional)</label>\r\n              <Input \r\n                value={newCourseSection} \r\n                onChange={(e) => setNewCourseSection(e.target.value)} \r\n                className=\"bg-black border-zinc-700 text-white\"\r\n                placeholder=\"e.g., Lab Group A\"\r\n              />\r\n            </div>\r\n            <Button onClick={handleCreateCourse} className=\"w-full bg-green-600 hover:bg-green-500 font-bold\">\r\n              Create Classroom\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // --- VIEW: LIST COURSES ---\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex justify-between items-center bg-zinc-900/50 p-4 rounded-lg border border-zinc-800\">\r\n        <div>\r\n           <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n             <School className=\"w-6 h-6 text-blue-500\" /> Active Classrooms\r\n           </h2>\r\n           <p className=\"text-xs text-zinc-500\">Manage your virtual labs and students</p>\r\n        </div>\r\n        \r\n        <div className=\"flex gap-2\">\r\n           <Button variant=\"outline\" size=\"sm\" onClick={loadCourses} disabled={loading}>\r\n            {loading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : \"Refresh\"}\r\n           </Button>\r\n           \r\n           {isTeacher && (\r\n             <Button size=\"sm\" onClick={() => setView(\"create_course\")} className=\"bg-green-600 hover:bg-green-500 text-white\">\r\n               <Plus className=\"w-4 h-4 mr-2\" /> New Class\r\n             </Button>\r\n           )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {courses.length === 0 && !loading && (\r\n          <div className=\"col-span-full flex flex-col items-center justify-center py-12 text-zinc-500 border-2 border-dashed border-zinc-800 rounded-xl\">\r\n            <School className=\"w-12 h-12 mb-4 opacity-20\" />\r\n            <p className=\"font-bold\">No active courses found.</p>\r\n            {isTeacher && (\r\n               <Button variant=\"link\" onClick={() => setView(\"create_course\")} className=\"text-blue-400\">\r\n                 Create your first Virtual Lab Class\r\n               </Button>\r\n            )}\r\n          </div>\r\n        )}\r\n        \r\n        {courses.map((course) => (\r\n          <Card key={course.id} className=\"bg-zinc-950 border-zinc-800 p-4 flex flex-col justify-between hover:border-blue-500/50 transition-all group\">\r\n            <div>\r\n              <div className=\"flex justify-between items-start mb-1\">\r\n                 <h3 className=\"text-lg font-bold text-white truncate w-[80%]\">{course.name}</h3>\r\n                 <a href={course.alternateLink} target=\"_blank\" rel=\"noreferrer\" className=\"text-zinc-600 hover:text-white transition-colors\">\r\n                    <ExternalLink className=\"w-4 h-4\" />\r\n                 </a>\r\n              </div>\r\n              <p className=\"text-sm text-zinc-400 mb-4\">{course.section || \"General\"}</p>\r\n              \r\n              {/* TEACHER CONTROLS */}\r\n              {isTeacher && (\r\n                <div className=\"grid grid-cols-2 gap-2 mb-4 opacity-100 sm:opacity-40 group-hover:opacity-100 transition-opacity\">\r\n                  <Button \r\n                    size=\"sm\" \r\n                    className=\"bg-zinc-800 hover:bg-zinc-700 text-xs h-8 border border-zinc-700\"\r\n                    onClick={() => handleViewStudents(course.id)}\r\n                  >\r\n                    <Users className=\"w-3 h-3 mr-1\" /> Roster\r\n                  </Button>\r\n                  <Button \r\n                    size=\"sm\" \r\n                    className=\"bg-blue-600 hover:bg-blue-500 text-xs h-8\"\r\n                    onClick={() => { setActiveCourseId(course.id); setModalType(\"assignment\"); }}\r\n                  >\r\n                    <Plus className=\"w-3 h-3 mr-1\" /> Assign\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"pt-3 border-t border-zinc-900 flex justify-between items-center\">\r\n              <span className={`text-[10px] px-2 py-0.5 rounded uppercase tracking-wider font-bold ${course.courseState === 'ACTIVE' ? 'bg-green-900/20 text-green-400' : 'bg-yellow-900/20 text-yellow-400'}`}>\r\n                {course.courseState}\r\n              </span>\r\n              <span className=\"text-[10px] text-zinc-600 font-mono\">ID: {course.id.slice(-4)}</span>\r\n            </div>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n      {/* --- MODALS --- */}\r\n      <Dialog open={!!modalType} onOpenChange={(open) => !open && closeModal()}>\r\n        <DialogContent className=\"bg-zinc-900 border-zinc-800 text-white sm:max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {modalType === 'assignment' && 'Create New Assignment'}\r\n              {modalType === 'students' && 'Student Roster'}\r\n            </DialogTitle>\r\n            {/* âœ… FIX 1: Add DialogDescription to solve the warning */}\r\n            <DialogDescription className=\"text-zinc-500 text-xs\">\r\n              {modalType === 'assignment' ? 'Post a new task to Google Classroom.' : 'View enrolled students.'}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {/* 1. ASSIGNMENT FORM */}\r\n          {modalType === 'assignment' && (\r\n            <div className=\"space-y-4 pt-4\">\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-bold text-zinc-400\">Assignment Title</label>\r\n                <Input \r\n                  value={assignTitle} \r\n                  onChange={(e) => setAssignTitle(e.target.value)} \r\n                  className=\"bg-black border-zinc-700\"\r\n                  placeholder=\"e.g., Lab Report 4\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-xs font-bold text-zinc-400\">Description</label>\r\n                <textarea \r\n                  value={assignDesc} \r\n                  onChange={(e) => setAssignDesc(e.target.value)} \r\n                  className=\"w-full h-24 bg-black border border-zinc-700 rounded-md p-2 text-sm text-white focus:outline-none focus:border-blue-500 resize-none\"\r\n                  placeholder=\"Instructions for students...\"\r\n                />\r\n              </div>\r\n              <Button onClick={handleCreateAssignment} className=\"w-full bg-blue-600 hover:bg-blue-500\">\r\n                Publish Assignment\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {/* 2. STUDENT LIST */}\r\n          {modalType === 'students' && (\r\n            <div className=\"pt-2 max-h-[300px] overflow-y-auto space-y-2\">\r\n              {students.length === 0 ? (\r\n                <div className=\"text-center py-6\">\r\n                   <Users className=\"w-8 h-8 text-zinc-700 mx-auto mb-2\" />\r\n                   <p className=\"text-zinc-500 text-sm\">No students enrolled yet.</p>\r\n                   <p className=\"text-xs text-zinc-600 mt-1\">Share the Google Classroom code with students.</p>\r\n                </div>\r\n              ) : (\r\n                students.map((student) => (\r\n                  <div key={student.userId} className=\"flex items-center gap-3 p-2 bg-black/40 rounded border border-zinc-800\">\r\n                    <div className=\"w-8 h-8 bg-zinc-800 rounded-full flex items-center justify-center text-xs font-bold text-zinc-400\">\r\n                      {student.profile?.name?.fullName?.[0] || \"?\"}\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-bold text-zinc-200\">{student.profile?.name?.fullName}</p>\r\n                      <p className=\"text-[10px] text-zinc-500\">{student.profile?.emailAddress}</p>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4849, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/dashboard/CalendarPanel.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { GoogleAPI } from \"@/lib/google-api\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Loader2, Plus } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function CalendarPanel({ token, isTeacher }: { token: string, isTeacher: boolean }) {\r\n  const [events, setEvents] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // New Event State (Teacher Only)\r\n  const [newEventTitle, setNewEventTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    loadEvents();\r\n  }, []);\r\n\r\n  const loadEvents = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await GoogleAPI.getEvents(token);\r\n      setEvents(data);\r\n    } catch (error) {\r\n      toast.error(\"Failed to sync calendar\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateEvent = async () => {\r\n    if (!newEventTitle) return;\r\n    try {\r\n      // Create a 1-hour event starting now\r\n      const start = new Date();\r\n      const end = new Date(start.getTime() + 60 * 60 * 1000); // +1 hour\r\n      \r\n      await GoogleAPI.addEvent(token, newEventTitle, \"Created via NetVerse\", start.toISOString(), end.toISOString());\r\n      toast.success(\"Event Added!\");\r\n      setNewEventTitle(\"\");\r\n      loadEvents();\r\n    } catch (e) {\r\n      toast.error(\"Failed to create event\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row gap-6\">\r\n      {/* List Section */}\r\n      <div className=\"flex-1 space-y-4\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-xl font-bold text-white\">Upcoming Schedule</h2>\r\n          <Button variant=\"ghost\" size=\"sm\" onClick={loadEvents} disabled={loading} className=\"text-zinc-400\">Sync</Button>\r\n        </div>\r\n\r\n        <div className=\"space-y-2 max-h-[500px] overflow-y-auto\">\r\n          {events.length === 0 && !loading && <p className=\"text-zinc-500\">No upcoming events.</p>}\r\n          \r\n          {events.map((event) => (\r\n            <div key={event.id} className=\"p-3 bg-zinc-950 border border-zinc-800 rounded flex gap-4 hover:bg-zinc-900\">\r\n              <div className=\"flex flex-col items-center justify-center bg-zinc-800 min-w-[50px] rounded p-1\">\r\n                <span className=\"text-[10px] text-zinc-400 uppercase\">\r\n                  {event.start?.dateTime ? new Date(event.start.dateTime).toLocaleString('default', { month: 'short' }) : 'ALL'}\r\n                </span>\r\n                <span className=\"text-lg font-bold text-white\">\r\n                  {event.start?.dateTime ? new Date(event.start.dateTime).getDate() : 'DAY'}\r\n                </span>\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-bold text-zinc-200\">{event.summary}</h4>\r\n                <p className=\"text-xs text-zinc-500\">\r\n                  {event.start?.dateTime ? new Date(event.start.dateTime).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : 'All Day'}\r\n                </p>\r\n                {event.htmlLink && (\r\n                  <a href={event.htmlLink} target=\"_blank\" className=\"text-[10px] text-blue-500 hover:underline\">View in Calendar</a>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Teacher Create Section */}\r\n      {isTeacher && (\r\n        <div className=\"w-full md:w-80 bg-zinc-950 border border-yellow-500/20 p-4 rounded-xl h-fit\">\r\n          <h3 className=\"text-yellow-400 font-bold mb-4 flex items-center gap-2\">\r\n            <Plus className=\"w-4 h-4\"/> Schedule Lab\r\n          </h3>\r\n          <div className=\"space-y-3\">\r\n            <Input \r\n              placeholder=\"Lab Session Title\" \r\n              className=\"bg-black border-zinc-700\"\r\n              value={newEventTitle}\r\n              onChange={(e) => setNewEventTitle(e.target.value)}\r\n            />\r\n            <p className=\"text-xs text-zinc-500\">\r\n              Creates a 1-hour session starting now.\r\n            </p>\r\n            <Button onClick={handleCreateEvent} className=\"w-full bg-yellow-600 hover:bg-yellow-500 text-white\">\r\n              Add to Calendar\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/dashboard/SheetsPanel.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { GoogleAPI } from \"@/lib/google-api\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { FileSpreadsheet, Download, ShieldAlert } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function SheetsPanel({ token, isTeacher, user }: { token: string, isTeacher: boolean, user: any }) {\r\n  const [createdSheetUrl, setCreatedSheetUrl] = useState(\"\");\r\n\r\n  const handleCreateAttendance = async () => {\r\n    try {\r\n      toast.loading(\"Creating Spreadsheet...\");\r\n      \r\n      // 1. Create Sheet\r\n      const sheet = await GoogleAPI.createSheet(token, `NetVerse Attendance - ${new Date().toLocaleDateString()}`);\r\n      const spreadsheetId = sheet.spreadsheetId;\r\n      \r\n      // 2. Add Header Row\r\n      await GoogleAPI.appendData(token, spreadsheetId, \"Sheet1!A1\", [\r\n        [\"Student Name\", \"Email\", \"Status\", \"Timestamp\"]\r\n      ]);\r\n\r\n      // 3. Add Mock Data (In reality, you'd pull this from Firebase)\r\n      await GoogleAPI.appendData(token, spreadsheetId, \"Sheet1!A1\", [\r\n        [user.displayName, user.email, \"Present\", new Date().toISOString()]\r\n      ]);\r\n\r\n      setCreatedSheetUrl(sheet.spreadsheetUrl);\r\n      toast.dismiss();\r\n      toast.success(\"Attendance Sheet Created!\");\r\n    } catch (error) {\r\n      toast.dismiss();\r\n      toast.error(\"Failed to create sheet\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-start gap-4 p-4 bg-blue-900/20 border border-blue-500/20 rounded-lg\">\r\n        <FileSpreadsheet className=\"w-8 h-8 text-blue-400 shrink-0\" />\r\n        <div>\r\n          <h3 className=\"font-bold text-blue-100\">Google Sheets Integration</h3>\r\n          <p className=\"text-sm text-blue-300/70 mt-1\">\r\n            Data is synced securely. Teachers have write access; Students have read access.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {isTeacher ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <Card className=\"bg-zinc-950 border-zinc-800 p-6\">\r\n            <h3 className=\"font-bold text-white mb-2\">Automated Attendance</h3>\r\n            <p className=\"text-sm text-zinc-400 mb-4\">\r\n              Generate a new Google Sheet containing the current lobby attendance list.\r\n            </p>\r\n            <Button onClick={handleCreateAttendance} className=\"bg-green-700 hover:bg-green-600\">\r\n              <Download className=\"w-4 h-4 mr-2\" /> Export to New Sheet\r\n            </Button>\r\n\r\n            {createdSheetUrl && (\r\n              <div className=\"mt-4 p-2 bg-green-900/20 border border-green-500/30 rounded text-center\">\r\n                <a href={createdSheetUrl} target=\"_blank\" className=\"text-green-400 hover:underline text-sm font-bold\">\r\n                  Open Created Sheet &rarr;\r\n                </a>\r\n              </div>\r\n            )}\r\n          </Card>\r\n\r\n          <Card className=\"bg-zinc-950 border-zinc-800 p-6 opacity-75\">\r\n            <h3 className=\"font-bold text-white mb-2\">Gradebook Sync</h3>\r\n            <p className=\"text-sm text-zinc-400 mb-4\">\r\n              Sync grades from Google Classroom to the master gradebook.\r\n            </p>\r\n            <Button variant=\"outline\" disabled className=\"w-full\">Sync (Coming Soon)</Button>\r\n          </Card>\r\n        </div>\r\n      ) : (\r\n        // Student View\r\n        <div className=\"flex flex-col items-center justify-center p-10 bg-zinc-950 border border-zinc-800 rounded-xl\">\r\n          <ShieldAlert className=\"w-10 h-10 text-zinc-600 mb-4\" />\r\n          <h3 className=\"text-lg font-bold text-zinc-300\">Restricted Access</h3>\r\n          <p className=\"text-zinc-500 text-center max-w-md mt-2\">\r\n            As a student, you cannot create or edit academic sheets. Please ask your Professor to share the class performance link.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AANA;;;;;;;;AAQe,SAAS,YAAY,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAoD;IAC9G,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,qRAAQ,EAAC;IAEvD,MAAM,yBAAyB;QAC7B,IAAI;YACF,qNAAK,CAAC,OAAO,CAAC;YAEd,kBAAkB;YAClB,MAAM,QAAQ,MAAM,qMAAS,CAAC,WAAW,CAAC,OAAO,CAAC,sBAAsB,EAAE,IAAI,OAAO,kBAAkB,IAAI;YAC3G,MAAM,gBAAgB,MAAM,aAAa;YAEzC,oBAAoB;YACpB,MAAM,qMAAS,CAAC,UAAU,CAAC,OAAO,eAAe,aAAa;gBAC5D;oBAAC;oBAAgB;oBAAS;oBAAU;iBAAY;aACjD;YAED,+DAA+D;YAC/D,MAAM,qMAAS,CAAC,UAAU,CAAC,OAAO,eAAe,aAAa;gBAC5D;oBAAC,KAAK,WAAW;oBAAE,KAAK,KAAK;oBAAE;oBAAW,IAAI,OAAO,WAAW;iBAAG;aACpE;YAED,mBAAmB,MAAM,cAAc;YACvC,qNAAK,CAAC,OAAO;YACb,qNAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,qNAAK,CAAC,OAAO;YACb,qNAAK,CAAC,KAAK,CAAC;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,kTAAC;QAAI,WAAU;;0BACb,kTAAC;gBAAI,WAAU;;kCACb,kTAAC,mTAAe;wBAAC,WAAU;;;;;;kCAC3B,kTAAC;;0CACC,kTAAC;gCAAG,WAAU;0CAA0B;;;;;;0CACxC,kTAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;YAMhD,0BACC,kTAAC;gBAAI,WAAU;;kCACb,kTAAC,qMAAI;wBAAC,WAAU;;0CACd,kTAAC;gCAAG,WAAU;0CAA4B;;;;;;0CAC1C,kTAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAG1C,kTAAC,yMAAM;gCAAC,SAAS;gCAAwB,WAAU;;kDACjD,kTAAC,0RAAQ;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;4BAGtC,iCACC,kTAAC;gCAAI,WAAU;0CACb,cAAA,kTAAC;oCAAE,MAAM;oCAAiB,QAAO;oCAAS,WAAU;8CAAmD;;;;;;;;;;;;;;;;;kCAO7G,kTAAC,qMAAI;wBAAC,WAAU;;0CACd,kTAAC;gCAAG,WAAU;0CAA4B;;;;;;0CAC1C,kTAAC;gCAAE,WAAU;0CAA6B;;;;;;0CAG1C,kTAAC,yMAAM;gCAAC,SAAQ;gCAAU,QAAQ;gCAAC,WAAU;0CAAS;;;;;;;;;;;;;;;;;uBAI1D,eAAe;0BACf,kTAAC;gBAAI,WAAU;;kCACb,kTAAC,uSAAW;wBAAC,WAAU;;;;;;kCACvB,kTAAC;wBAAG,WAAU;kCAAkC;;;;;;kCAChD,kTAAC;wBAAE,WAAU;kCAA0C;;;;;;;;;;;;;;;;;;AAOjE"}},
    {"offset": {"line": 5351, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/hud/DashboardOverlay.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { LayoutDashboard, BookOpen, Calendar, FileSpreadsheet, X } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\n// Reuse the panels we designed previously\r\nimport ClassroomPanel from \"@/components/dashboard/ClassroomPanel\";\r\nimport CalendarPanel from \"@/components/dashboard/CalendarPanel\";\r\nimport SheetsPanel from \"@/components/dashboard/SheetsPanel\";\r\n\r\ninterface DashboardOverlayProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  token: string | null;\r\n  isTeacher: boolean;\r\n  user: any;\r\n}\r\n\r\nexport default function DashboardOverlay({ isOpen, onClose, token, isTeacher, user }: DashboardOverlayProps) {\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={(val) => !val && onClose()}>\r\n      {/* Full screen modal, slightly transparent background */}\r\n      <DialogContent className=\"max-w-[90vw] h-[85vh] bg-black/95 border-zinc-800 p-0 gap-0 flex flex-col overflow-hidden backdrop-blur-xl\">\r\n        \r\n        {/* Header Bar */}\r\n        <div className=\"h-14 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/50\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"bg-blue-600 p-1.5 rounded-lg\">\r\n              <LayoutDashboard className=\"w-5 h-5 text-white\" />\r\n            </div>\r\n            <div>\r\n              <DialogTitle className=\"text-white font-bold text-lg leading-none\">NetVerse OS</DialogTitle>\r\n              <span className=\"text-[10px] text-zinc-400 uppercase tracking-widest font-mono\">\r\n                {isTeacher ? \"Administrator Mode\" : \"Student Access\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          \r\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose} className=\"hover:bg-red-900/20 hover:text-red-400 rounded-full\">\r\n            <X className=\"w-5 h-5\" />\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Main Content Area */}\r\n        <div className=\"flex-1 overflow-hidden p-6\">\r\n          {!token ? (\r\n            <div className=\"h-full flex flex-col items-center justify-center text-zinc-500 gap-4\">\r\n              <p>Google Access Token Not Found.</p>\r\n              <p className=\"text-sm\">Please logout and sign in again.</p>\r\n            </div>\r\n          ) : (\r\n            <Tabs defaultValue=\"classroom\" className=\"h-full flex flex-col\">\r\n              <TabsList className=\"bg-zinc-900 border border-zinc-800 w-fit mb-6\">\r\n                <TabsTrigger value=\"classroom\" className=\"data-[state=active]:bg-blue-600 data-[state=active]:text-white\">\r\n                  <BookOpen className=\"w-4 h-4 mr-2\" /> Classroom\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"calendar\" className=\"data-[state=active]:bg-blue-600 data-[state=active]:text-white\">\r\n                  <Calendar className=\"w-4 h-4 mr-2\" /> Schedule\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"sheets\" className=\"data-[state=active]:bg-blue-600 data-[state=active]:text-white\">\r\n                  <FileSpreadsheet className=\"w-4 h-4 mr-2\" /> {isTeacher ? \"Gradebook\" : \"Performance\"}\r\n                </TabsTrigger>\r\n              </TabsList>\r\n\r\n              <div className=\"flex-1 overflow-y-auto pr-2\">\r\n                <TabsContent value=\"classroom\" className=\"mt-0 h-full\">\r\n                  <ClassroomPanel token={token} isTeacher={isTeacher} />\r\n                </TabsContent>\r\n                \r\n                <TabsContent value=\"calendar\" className=\"mt-0 h-full\">\r\n                  <CalendarPanel token={token} isTeacher={isTeacher} />\r\n                </TabsContent>\r\n                \r\n                <TabsContent value=\"sheets\" className=\"mt-0 h-full\">\r\n                  <SheetsPanel token={token} isTeacher={isTeacher} user={user} />\r\n                </TabsContent>\r\n              </div>\r\n            </Tabs>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,0CAA0C;AAC1C;AACA;AACA;AAXA;;;;;;;;;AAqBe,SAAS,iBAAiB,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAyB;IACzG,qBACE,kTAAC,yMAAM;QAAC,MAAM;QAAQ,cAAc,CAAC,MAAQ,CAAC,OAAO;kBAEnD,cAAA,kTAAC,gNAAa;YAAC,WAAU;;8BAGvB,kTAAC;oBAAI,WAAU;;sCACb,kTAAC;4BAAI,WAAU;;8CACb,kTAAC;oCAAI,WAAU;8CACb,cAAA,kTAAC,mTAAe;wCAAC,WAAU;;;;;;;;;;;8CAE7B,kTAAC;;sDACC,kTAAC,8MAAW;4CAAC,WAAU;sDAA4C;;;;;;sDACnE,kTAAC;4CAAK,WAAU;sDACb,YAAY,uBAAuB;;;;;;;;;;;;;;;;;;sCAK1C,kTAAC,yMAAM;4BAAC,SAAQ;4BAAQ,MAAK;4BAAO,SAAS;4BAAS,WAAU;sCAC9D,cAAA,kTAAC,qQAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKjB,kTAAC;oBAAI,WAAU;8BACZ,CAAC,sBACA,kTAAC;wBAAI,WAAU;;0CACb,kTAAC;0CAAE;;;;;;0CACH,kTAAC;gCAAE,WAAU;0CAAU;;;;;;;;;;;6CAGzB,kTAAC,qMAAI;wBAAC,cAAa;wBAAY,WAAU;;0CACvC,kTAAC,yMAAQ;gCAAC,WAAU;;kDAClB,kTAAC,4MAAW;wCAAC,OAAM;wCAAY,WAAU;;0DACvC,kTAAC,8RAAQ;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAEvC,kTAAC,4MAAW;wCAAC,OAAM;wCAAW,WAAU;;0DACtC,kTAAC,0RAAQ;gDAAC,WAAU;;;;;;4CAAiB;;;;;;;kDAEvC,kTAAC,4MAAW;wCAAC,OAAM;wCAAS,WAAU;;0DACpC,kTAAC,mTAAe;gDAAC,WAAU;;;;;;4CAAiB;4CAAE,YAAY,cAAc;;;;;;;;;;;;;0CAI5E,kTAAC;gCAAI,WAAU;;kDACb,kTAAC,4MAAW;wCAAC,OAAM;wCAAY,WAAU;kDACvC,cAAA,kTAAC,yNAAc;4CAAC,OAAO;4CAAO,WAAW;;;;;;;;;;;kDAG3C,kTAAC,4MAAW;wCAAC,OAAM;wCAAW,WAAU;kDACtC,cAAA,kTAAC,wNAAa;4CAAC,OAAO;4CAAO,WAAW;;;;;;;;;;;kDAG1C,kTAAC,4MAAW;wCAAC,OAAM;wCAAS,WAAU;kDACpC,cAAA,kTAAC,sNAAW;4CAAC,OAAO;4CAAO,WAAW;4CAAW,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASzE"}},
    {"offset": {"line": 5635, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/hooks/useMultiplayer.ts"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { ref, onValue, set, onDisconnect, remove } from \"firebase/database\";\nimport { db } from \"@/lib/firebase\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\n\n// Define the shape of a player in the DB\nexport interface RemotePlayer {\n  id: string;\n  x: number;\n  y: number;\n  facing: 'left' | 'right' | 'up' | 'down';\n  isMoving: boolean;\n  username: string;\n}\n\nexport function useMultiplayer(\n  roomId: string,\n  myPos: { x: number; y: number },\n  myFacing: string,\n  isMoving: boolean\n):{ otherPlayers: RemotePlayer[] } {\n  const { user } = useAuth();\n  const [otherPlayers, setOtherPlayers] = useState<RemotePlayer[]>([]);\n  \n  // Throttle writes to avoid hitting DB limits (limit to 100ms)\n  const lastUpdateRef = useRef(0);\n\n  // 1. JOIN ROOM & HANDLE DISCONNECT\n  useEffect(() => {\n    if (!user) return;\n\n    const myRef = ref(db, `active_sessions/${roomId}/${user.uid}`);\n\n    // Set initial data\n    set(myRef, {\n      x: myPos.x,\n      y: myPos.y,\n      facing: myFacing,\n      isMoving,\n      username: user.displayName || \"Anonymous\",\n      lastSeen: Date.now()\n    });\n\n    // Magic Line: If tab closes, remove me from DB\n    onDisconnect(myRef).remove();\n\n    // Cleanup when component unmounts\n    return () => {\n      remove(myRef);\n    };\n  }, [user, roomId]); // Run once on join\n\n  // 2. SYNC MOVEMENT (SEND)\n  useEffect(() => {\n    if (!user) return;\n\n    const now = Date.now();\n    // Only write if 100ms passed OR status changed significantly\n    if (now - lastUpdateRef.current > 100) {\n      const myRef = ref(db, `active_sessions/${roomId}/${user.uid}`);\n      set(myRef, {\n        x: myPos.x,\n        y: myPos.y,\n        facing: myFacing,\n        isMoving,\n        username: user.displayName,\n        lastSeen: now\n      }).catch((err) => console.error(\"Sync failed\", err));\n      \n      lastUpdateRef.current = now;\n    }\n  }, [myPos, myFacing, isMoving, user, roomId]);\n\n  // 3. LISTEN TO OTHERS (RECEIVE)\n  useEffect(() => {\n    if (!user) return;\n\n    const roomRef = ref(db, `active_sessions/${roomId}`);\n    \n    const unsubscribe = onValue(roomRef, (snapshot) => {\n      const data = snapshot.val();\n      if (!data) {\n        setOtherPlayers([]);\n        return;\n      }\n\n      // Convert Object { \"uid1\": {...}, \"uid2\": {...} } to Array [ {...}, {...} ]\n      const playersArray = Object.keys(data)\n        .filter((key) => key !== user.uid) // Remove MYSELF from the list\n        .map((key) => ({\n          id: key,\n          ...data[key]\n        }));\n\n      setOtherPlayers(playersArray);\n    });\n\n    return () => unsubscribe();\n  }, [user, roomId]);\n\n  return { otherPlayers };\n}"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;AACA;;;;;AAYO,SAAS,eACd,MAAc,EACd,KAA+B,EAC/B,QAAgB,EAChB,QAAiB;IAEjB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,uNAAO;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qRAAQ,EAAiB,EAAE;IAEnE,8DAA8D;IAC9D,MAAM,gBAAgB,IAAA,mRAAM,EAAC;IAE7B,mCAAmC;IACnC,IAAA,sRAAS,EAAC;QACR,IAAI,CAAC,MAAM;QAEX,MAAM,QAAQ,IAAA,gQAAG,EAAC,yLAAE,EAAE,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,EAAE;QAE7D,mBAAmB;QACnB,IAAA,gQAAG,EAAC,OAAO;YACT,GAAG,MAAM,CAAC;YACV,GAAG,MAAM,CAAC;YACV,QAAQ;YACR;YACA,UAAU,KAAK,WAAW,IAAI;YAC9B,UAAU,KAAK,GAAG;QACpB;QAEA,+CAA+C;QAC/C,IAAA,yQAAY,EAAC,OAAO,MAAM;QAE1B,kCAAkC;QAClC,OAAO;YACL,IAAA,mQAAM,EAAC;QACT;IACF,GAAG;QAAC;QAAM;KAAO,GAAG,mBAAmB;IAEvC,0BAA0B;IAC1B,IAAA,sRAAS,EAAC;QACR,IAAI,CAAC,MAAM;QAEX,MAAM,MAAM,KAAK,GAAG;QACpB,6DAA6D;QAC7D,IAAI,MAAM,cAAc,OAAO,GAAG,KAAK;YACrC,MAAM,QAAQ,IAAA,gQAAG,EAAC,yLAAE,EAAE,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE,KAAK,GAAG,EAAE;YAC7D,IAAA,gQAAG,EAAC,OAAO;gBACT,GAAG,MAAM,CAAC;gBACV,GAAG,MAAM,CAAC;gBACV,QAAQ;gBACR;gBACA,UAAU,KAAK,WAAW;gBAC1B,UAAU;YACZ,GAAG,KAAK,CAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC,eAAe;YAE/C,cAAc,OAAO,GAAG;QAC1B;IACF,GAAG;QAAC;QAAO;QAAU;QAAU;QAAM;KAAO;IAE5C,gCAAgC;IAChC,IAAA,sRAAS,EAAC;QACR,IAAI,CAAC,MAAM;QAEX,MAAM,UAAU,IAAA,gQAAG,EAAC,yLAAE,EAAE,CAAC,gBAAgB,EAAE,QAAQ;QAEnD,MAAM,cAAc,IAAA,oQAAO,EAAC,SAAS,CAAC;YACpC,MAAM,OAAO,SAAS,GAAG;YACzB,IAAI,CAAC,MAAM;gBACT,gBAAgB,EAAE;gBAClB;YACF;YAEA,4EAA4E;YAC5E,MAAM,eAAe,OAAO,IAAI,CAAC,MAC9B,MAAM,CAAC,CAAC,MAAQ,QAAQ,KAAK,GAAG,EAAE,8BAA8B;aAChE,GAAG,CAAC,CAAC,MAAQ,CAAC;oBACb,IAAI;oBACJ,GAAG,IAAI,CAAC,IAAI;gBACd,CAAC;YAEH,gBAAgB;QAClB;QAEA,OAAO,IAAM;IACf,GAAG;QAAC;QAAM;KAAO;IAEjB,OAAO;QAAE;IAAa;AACxB"}},
    {"offset": {"line": 5731, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/components/game/NetVerseEngine.tsx"],"sourcesContent":["// \"use client\";\n\n// import React, { useState, useEffect } from \"react\";\n// import { motion } from \"framer-motion\";\n// import { GAME_CONFIG, STATIONS, GameStation, isTeacher } from \"@/lib/game-config\"; \n\n// // --- COMPONENTS ---\n// import Player from \"./Player\";\n// import Station from \"./Station\";\n// import WorldMap from \"./WorldMap\";\n// import StationModalManager from \"./StationModalManager\";\n// import MiniMap from \"@/components/hud/MiniMap\";\n// import ChatModal from \"./ChatModal\"; \n// import Teacher from \"./Teacher\"; \n// import TeacherDashboard from \"@/components/hud/TeacherDashboard\"; \n\n// import { RemotePlayer, useMultiplayer } from \"@/hooks/useMultiplayer\";\n// import { useAuth } from \"../providers/AuthProvider\";\n\n// // --- FIREBASE IMPORTS ---\n// import { ref, set, onDisconnect } from \"firebase/database\";\n// import { db } from \"@/lib/firebase\";\n// import { Loader2 } from \"lucide-react\";\n\n// export default function NetVerseEngine({ username }: { username: string }) {\n  \n//   const { user, loading } = useAuth(); // Get loading state\n  \n//   // RBAC Check using config function\n//   const amITeacher = isTeacher(user?.email);\n\n//   const getChatId = (uid1: string, uid2: string) => {\n//     return [uid1, uid2].sort().join(\"_\"); \n//   };\n\n//   // --- 1. STATE ---\n//   const [pos, setPos] = useState({ x: 1200, y: 1500 });\n//   const [facing, setFacing] = useState<'left' | 'right' | 'up' | 'down'>('down');\n//   const [isMoving, setIsMoving] = useState(false);\n  \n//   // Interaction State\n//   const [activeStation, setActiveStation] = useState<GameStation | null>(null);\n//   const [isDialogOpen, setIsDialogOpen] = useState(false);\n\n//   // Chat State\n//   const [closestPlayer, setClosestPlayer] = useState<RemotePlayer | null>(null);\n//   const [isChatOpen, setIsChatOpen] = useState(false);\n//   const [currentChatId, setCurrentChatId] = useState<string>(\"\");\n\n//   // Multiplayer Hook\n//   const { otherPlayers } = useMultiplayer(\"campus-lobby\", pos, facing, isMoving);\n\n//   // --- 2. TEACHER IDENTITY LOCK ---\n//   useEffect(() => {\n//     // Only run this if NOT loading and user is confirmed teacher\n//     if (!loading && amITeacher && user) {\n//         console.log(\"ðŸŽ“ RBAC: Teacher Mode Activated for\", user.email);\n        \n//         // Force Position to Desk\n//         setPos({ x: 2100, y: 1350 }); \n//         setFacing(\"down\");\n\n//         // Broadcast Online Status\n//         const statusRef = ref(db, \"game_state/professor_status\");\n//         set(statusRef, \"online\");\n//         onDisconnect(statusRef).set(\"offline\");\n//     }\n//   }, [loading, amITeacher, user]);\n\n//   // --- 3. GAME LOOP ---\n//   useEffect(() => {\n//     if (loading) return; // Don't run loop while loading\n\n//     let animationFrameId: number;\n//     const keysPressed = new Set<string>();\n\n//     const handleKeyDown = (e: KeyboardEvent) => keysPressed.add(e.key);\n//     const handleKeyUp = (e: KeyboardEvent) => keysPressed.delete(e.key);\n//     const handleBlur = () => { keysPressed.clear(); setIsMoving(false); };\n\n//     const gameLoop = () => {\n//       if (isDialogOpen) return; \n\n//       // ðŸ›‘ RBAC MOVEMENT LOCK\n//       if (amITeacher) {\n//          setIsMoving(false); // Teachers cannot move\n//       } else {\n//           // Normal Student Movement\n//           const moving = keysPressed.size > 0;\n//           setIsMoving(moving);\n\n//           setPos((prev) => {\n//             let { x, y } = prev;\n//             const speed = GAME_CONFIG.playerSpeed;\n//             if (keysPressed.has(\"ArrowUp\") || keysPressed.has(\"w\")) { y -= speed; setFacing('up'); }\n//             if (keysPressed.has(\"ArrowDown\") || keysPressed.has(\"s\")) { y += speed; setFacing('down'); }\n//             if (keysPressed.has(\"ArrowLeft\") || keysPressed.has(\"a\")) { x -= speed; setFacing(\"left\"); }\n//             if (keysPressed.has(\"ArrowRight\") || keysPressed.has(\"d\")) { x += speed; setFacing(\"right\"); }\n//             return {\n//               x: Math.max(GAME_CONFIG.playerSize, Math.min(x, GAME_CONFIG.mapWidth - GAME_CONFIG.playerSize)),\n//               y: Math.max(GAME_CONFIG.playerSize, Math.min(y, GAME_CONFIG.mapHeight - GAME_CONFIG.playerSize)),\n//             };\n//           });\n//       }\n\n//       // Find Closest Player\n//       let closest: RemotePlayer | null = null;\n//       let minDist = 100; \n//       for (const p of otherPlayers) {\n//         const dist = Math.hypot(p.x - pos.x, p.y - pos.y);\n//         if (dist < minDist) { minDist = dist; closest = p; }\n//       }\n//       setClosestPlayer(closest);\n\n//       // Chat Trigger\n//       if (keysPressed.has(\"e\") && closest && !isChatOpen && user) {\n//         setCurrentChatId(getChatId(user.uid, closest.id));\n//         setIsChatOpen(true);\n//         keysPressed.delete(\"e\"); \n//       }\n\n//       // Station Logic\n//       const nearby = STATIONS.find((s) => {\n//         const dx = Math.abs(pos.x - s.x);\n//         const dy = Math.abs(pos.y - s.y);\n//         return dx < (s.interactionRadius || 80) && dy < (s.interactionRadius || 80); \n//       });\n//       setActiveStation(nearby || null);\n\n//       if (keysPressed.has(\"Enter\") && nearby) {\n//         setIsDialogOpen(true);\n//         keysPressed.delete(\"Enter\");\n//       }\n\n//       animationFrameId = requestAnimationFrame(gameLoop);\n//     };\n\n//     window.addEventListener(\"keydown\", handleKeyDown);\n//     window.addEventListener(\"keyup\", handleKeyUp);\n//     window.addEventListener(\"blur\", handleBlur);\n//     animationFrameId = requestAnimationFrame(gameLoop);\n\n//     return () => {\n//       window.removeEventListener(\"keydown\", handleKeyDown);\n//       window.removeEventListener(\"keyup\", handleKeyUp);\n//       window.removeEventListener(\"blur\", handleBlur);\n//       cancelAnimationFrame(animationFrameId);\n//     };\n//   }, [pos, isDialogOpen, isChatOpen, otherPlayers, user, amITeacher, loading]); \n\n//   // âœ… 4. LOADING SCREEN (Prevents Glitch)\n//   if (loading) {\n//     return (\n//       <div className=\"h-screen w-screen bg-black flex flex-col items-center justify-center text-white gap-4\">\n//         <Loader2 className=\"w-10 h-10 animate-spin text-blue-500\" />\n//         <p className=\"text-zinc-400 text-sm animate-pulse\">Authenticating Identity...</p>\n//       </div>\n//     );\n//   }\n\n//   // âœ… 5. MAIN RENDER\n//   return (\n//     <div className=\"flex items-center justify-center min-h-screen bg-black overflow-hidden relative\">\n      \n//       {/* HUD Layer */}\n//       <div className=\"absolute top-4 left-4 z-50\">\n//         <h1 className=\"text-white font-bold text-xl tracking-widest\">NETVERSE <span className=\"text-blue-500\">LABS</span></h1>\n//         <div className=\"flex items-center gap-2 text-slate-400 text-xs mt-1\">\n//           <div className={`w-2 h-2 rounded-full animate-pulse ${amITeacher ? 'bg-yellow-500' : 'bg-green-500'}`}/>\n//           Logged in as {username} {amITeacher && <span className=\"text-yellow-400 font-bold\">(PROFESSOR)</span>}\n//         </div>\n//       </div>\n\n//       {/* Interaction Prompts */}\n//       {closestPlayer && !isChatOpen && (\n//         <div className=\"absolute top-20 left-1/2 -translate-x-1/2 z-50 animate-bounce\">\n//           <div className=\"bg-black/80 text-white px-4 py-2 rounded-full border border-white/20 shadow-blue-900/50 shadow-lg flex items-center gap-2\">\n//             <span className=\"bg-white text-black w-5 h-5 flex items-center justify-center rounded text-xs font-bold\">E</span>\n//             <span className=\"text-sm font-medium\">Chat with {closestPlayer.username}</span>\n//           </div>\n//         </div>\n//       )}\n\n//       {activeStation && !isDialogOpen && (\n//         <div className=\"absolute bottom-20 left-1/2 -translate-x-1/2 z-50 animate-bounce\">\n//           <div className=\"bg-black/90 text-white px-6 py-3 rounded-full border border-yellow-500/50 shadow-yellow-500/20 shadow-lg flex items-center gap-3\">\n//             <span className=\"bg-yellow-500 text-black w-6 h-6 flex items-center justify-center rounded text-xs font-bold\">â†µ</span>\n//             <span className=\"text-sm font-bold tracking-wide\">\n//               {activeStation.type === 'npc-teacher' ? \"Talk to Professor\" : `Open ${activeStation.label}`}\n//             </span>\n//           </div>\n//         </div>\n//       )}\n\n//       <MiniMap playerPos={pos} />\n\n//       {/* Game Viewport */}\n//       <div \n//         className=\"relative overflow-hidden bg-slate-900 border-4 border-slate-800 rounded-xl shadow-2xl\"\n//         style={{ width: GAME_CONFIG.viewportWidth, height: GAME_CONFIG.viewportHeight }}\n//       >\n//         <motion.div\n//           className=\"absolute origin-top-left\"\n//           animate={{\n//             x: -pos.x + GAME_CONFIG.viewportWidth / 2,\n//             y: -pos.y + GAME_CONFIG.viewportHeight / 2,\n//           }}\n//           transition={{ type: \"tween\", ease: \"linear\", duration: 0 }} \n//           style={{ width: GAME_CONFIG.mapWidth, height: GAME_CONFIG.mapHeight }}\n//         >\n//           <WorldMap />\n\n//           {/* Other Players */}\n//           {otherPlayers.map((p) => (\n//             <Player \n//               key={p.id}\n//               pos={{ x: p.x, y: p.y }}\n//               facing={p.facing}\n//               isMoving={p.isMoving}\n//               username={p.username}\n//             />\n//           ))}\n\n//           {/* Stations (Hide Professor NPC if I AM the professor) */}\n//           {STATIONS.filter(s => s.type !== \"npc-teacher\").map((station) => (\n//             <Station key={station.id} station={station} isActive={activeStation?.id === station.id} />\n//           ))}\n\n//           {/* Render Teacher NPC (Only if I am NOT the teacher) */}\n//           {!amITeacher && STATIONS.filter(s => s.type === \"npc-teacher\").map(npc => (\n//             <Teacher \n//                 key={npc.id}\n//                 x={npc.x}\n//                 y={npc.y}\n//                 label={npc.label}\n//                 status=\"online\" \n//             />\n//           ))}\n\n//           {/* My Player */}\n//           <Player pos={pos} facing={facing} username={username} isMoving={false} />\n\n//         </motion.div>\n//       </div>\n\n//       <StationModalManager \n//         isOpen={isDialogOpen}\n//         onClose={() => setIsDialogOpen(false)}\n//         activeStation={activeStation}\n//       />\n\n//       {user && closestPlayer && (\n//         <ChatModal \n//           isOpen={isChatOpen}\n//           onClose={() => setIsChatOpen(false)}\n//           chatId={currentChatId}\n//           myUsername={username}\n//           partnerName={closestPlayer ? closestPlayer.username : \"Student\"}\n//         />\n//       )}\n\n//       {/* TEACHER DASHBOARD (Only visible if RBAC confirms teacher) */}\n//       {amITeacher && <TeacherDashboard />}\n\n//     </div>\n//   );\n// }\n\n\n\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { GAME_CONFIG, STATIONS, GameStation, isTeacher } from \"@/lib/game-config\"; \n\n// --- COMPONENTS ---\nimport Player from \"./Player\";\nimport Station from \"./Station\";\nimport WorldMap from \"./WorldMap\";\nimport StationModalManager from \"./StationModalManager\";\nimport MiniMap from \"@/components/hud/MiniMap\";\nimport ChatModal from \"./ChatModal\"; \nimport Teacher from \"./Teacher\"; \nimport TeacherDashboard from \"@/components/hud/TeacherDashboard\"; \nimport DashboardOverlay from \"@/components/hud/DashboardOverlay\"; // âœ… NEW IMPORT\n\n// --- UI IMPORTS ---\nimport { Button } from \"@/components/ui/button\"; // âœ… NEW IMPORT\nimport { LayoutDashboard, Loader2 } from \"lucide-react\"; // âœ… NEW IMPORT\n\nimport { RemotePlayer, useMultiplayer } from \"@/hooks/useMultiplayer\";\nimport { useAuth } from \"../providers/AuthProvider\";\n\n// --- FIREBASE IMPORTS ---\nimport { ref, set, onDisconnect } from \"firebase/database\";\nimport { db } from \"@/lib/firebase\";\n\nexport default function NetVerseEngine({ username }: { username: string }) {\n  \n  // 1. Get Auth Data (User + Token)\n  // Note: Ensure your AuthProvider is updated to return accessToken as discussed\n  const { user, loading, accessToken } = useAuth(); \n  \n  // RBAC Check using config function\n  const amITeacher = isTeacher(user?.email);\n\n  const getChatId = (uid1: string, uid2: string) => {\n    return [uid1, uid2].sort().join(\"_\"); \n  };\n\n  // --- 2. STATE ---\n  const [pos, setPos] = useState({ x: 1200, y: 1500 });\n  const [facing, setFacing] = useState<'left' | 'right' | 'up' | 'down'>('down');\n  const [isMoving, setIsMoving] = useState(false);\n  \n  // Interaction State\n  const [activeStation, setActiveStation] = useState<GameStation | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isDashboardOpen, setIsDashboardOpen] = useState(false); // âœ… NEW STATE\n\n  // Chat State\n  const [closestPlayer, setClosestPlayer] = useState<RemotePlayer | null>(null);\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [currentChatId, setCurrentChatId] = useState<string>(\"\");\n\n  // Multiplayer Hook\n  const { otherPlayers } = useMultiplayer(\"campus-lobby\", pos, facing, isMoving);\n\n  // --- 3. TEACHER IDENTITY LOCK ---\n  useEffect(() => {\n    // Only run this if NOT loading and user is confirmed teacher\n    if (!loading && amITeacher && user) {\n        console.log(\"ðŸŽ“ RBAC: Teacher Mode Activated for\", user.email);\n        \n        // Force Position to Desk\n        setPos({ x: 2100, y: 1350 }); \n        setFacing(\"down\");\n\n        // Broadcast Online Status\n        const statusRef = ref(db, \"game_state/professor_status\");\n        set(statusRef, \"online\");\n        onDisconnect(statusRef).set(\"offline\");\n    }\n  }, [loading, amITeacher, user]);\n\n  // --- 4. GAME LOOP ---\n  useEffect(() => {\n    if (loading) return; // Don't run loop while loading\n\n    let animationFrameId: number;\n    const keysPressed = new Set<string>();\n\n    const handleKeyDown = (e: KeyboardEvent) => keysPressed.add(e.key);\n    const handleKeyUp = (e: KeyboardEvent) => keysPressed.delete(e.key);\n    const handleBlur = () => { keysPressed.clear(); setIsMoving(false); };\n\n    const gameLoop = () => {\n      // âœ… STOP MOVEMENT IF DASHBOARD IS OPEN\n      if (isDialogOpen || isChatOpen || isDashboardOpen) {\n          setIsMoving(false); \n          // Keep requesting frames so animations don't freeze, but don't update position\n          animationFrameId = requestAnimationFrame(gameLoop);\n          return;\n      }\n\n      // ðŸ›‘ RBAC MOVEMENT LOCK\n      if (amITeacher) {\n         setIsMoving(false); // Teachers cannot move\n      } else {\n          // Normal Student Movement\n          const moving = keysPressed.size > 0;\n          setIsMoving(moving);\n\n          setPos((prev) => {\n            let { x, y } = prev;\n            const speed = GAME_CONFIG.playerSpeed;\n            if (keysPressed.has(\"ArrowUp\") || keysPressed.has(\"w\")) { y -= speed; setFacing('up'); }\n            if (keysPressed.has(\"ArrowDown\") || keysPressed.has(\"s\")) { y += speed; setFacing('down'); }\n            if (keysPressed.has(\"ArrowLeft\") || keysPressed.has(\"a\")) { x -= speed; setFacing(\"left\"); }\n            if (keysPressed.has(\"ArrowRight\") || keysPressed.has(\"d\")) { x += speed; setFacing(\"right\"); }\n            return {\n              x: Math.max(GAME_CONFIG.playerSize, Math.min(x, GAME_CONFIG.mapWidth - GAME_CONFIG.playerSize)),\n              y: Math.max(GAME_CONFIG.playerSize, Math.min(y, GAME_CONFIG.mapHeight - GAME_CONFIG.playerSize)),\n            };\n          });\n      }\n\n      // Find Closest Player\n      let closest: RemotePlayer | null = null;\n      let minDist = 100; \n      for (const p of otherPlayers) {\n        const dist = Math.hypot(p.x - pos.x, p.y - pos.y);\n        if (dist < minDist) { minDist = dist; closest = p; }\n      }\n      setClosestPlayer(closest);\n\n      // Chat Trigger\n      if (keysPressed.has(\"e\") && closest && !isChatOpen && user) {\n        setCurrentChatId(getChatId(user.uid, closest.id));\n        setIsChatOpen(true);\n        keysPressed.delete(\"e\"); \n      }\n\n      // Station Logic\n      const nearby = STATIONS.find((s) => {\n        const dx = Math.abs(pos.x - s.x);\n        const dy = Math.abs(pos.y - s.y);\n        return dx < (s.interactionRadius || 80) && dy < (s.interactionRadius || 80); \n      });\n      setActiveStation(nearby || null);\n\n      if (keysPressed.has(\"Enter\") && nearby) {\n        setIsDialogOpen(true);\n        keysPressed.delete(\"Enter\");\n      }\n\n      animationFrameId = requestAnimationFrame(gameLoop);\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n    window.addEventListener(\"blur\", handleBlur);\n    animationFrameId = requestAnimationFrame(gameLoop);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n      window.removeEventListener(\"blur\", handleBlur);\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [pos, isDialogOpen, isChatOpen, isDashboardOpen, otherPlayers, user, amITeacher, loading]); \n\n  // âœ… 5. LOADING SCREEN (Prevents Glitch)\n  if (loading) {\n    return (\n      <div className=\"h-screen w-screen bg-black flex flex-col items-center justify-center text-white gap-4\">\n        <Loader2 className=\"w-10 h-10 animate-spin text-blue-500\" />\n        <p className=\"text-zinc-400 text-sm animate-pulse\">Authenticating Identity...</p>\n      </div>\n    );\n  }\n\n  // âœ… 6. MAIN RENDER\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-black overflow-hidden relative\">\n      \n      {/* HUD Layer */}\n      <div className=\"absolute top-4 left-4 z-50 pointer-events-none\">\n        <h1 className=\"text-white font-bold text-xl tracking-widest drop-shadow-md\">NETVERSE <span className=\"text-blue-500\">LABS</span></h1>\n        <div className=\"flex items-center gap-2 text-slate-400 text-xs mt-1 bg-black/50 px-2 py-1 rounded backdrop-blur-sm w-fit\">\n          <div className={`w-2 h-2 rounded-full animate-pulse ${amITeacher ? 'bg-yellow-500' : 'bg-green-500'}`}/>\n          Logged in as {username} {amITeacher && <span className=\"text-yellow-400 font-bold\">(PROFESSOR)</span>}\n        </div>\n      </div>\n\n      {/* âœ… NEW: DASHBOARD BUTTON (Top Right) */}\n      <div className=\"absolute top-4 right-4 z-50\">\n        <Button \n          onClick={() => setIsDashboardOpen(true)}\n          className=\"bg-zinc-900/80 border border-zinc-700 hover:bg-blue-600 hover:border-blue-400 text-white backdrop-blur-md shadow-xl gap-2 transition-all\"\n        >\n          <LayoutDashboard className=\"w-4 h-4\" />\n          <span className=\"hidden sm:inline\">Dashboard</span>\n        </Button>\n      </div>\n\n      {/* Interaction Prompts */}\n      {closestPlayer && !isChatOpen && !isDashboardOpen && (\n        <div className=\"absolute top-20 left-1/2 -translate-x-1/2 z-50 animate-bounce\">\n          <div className=\"bg-black/80 text-white px-4 py-2 rounded-full border border-white/20 shadow-blue-900/50 shadow-lg flex items-center gap-2\">\n            <span className=\"bg-white text-black w-5 h-5 flex items-center justify-center rounded text-xs font-bold\">E</span>\n            <span className=\"text-sm font-medium\">Chat with {closestPlayer.username}</span>\n          </div>\n        </div>\n      )}\n\n      {activeStation && !isDialogOpen && !isDashboardOpen && (\n        <div className=\"absolute bottom-20 left-1/2 -translate-x-1/2 z-50 animate-bounce\">\n          <div className=\"bg-black/90 text-white px-6 py-3 rounded-full border border-yellow-500/50 shadow-yellow-500/20 shadow-lg flex items-center gap-3\">\n            <span className=\"bg-yellow-500 text-black w-6 h-6 flex items-center justify-center rounded text-xs font-bold\">â†µ</span>\n            <span className=\"text-sm font-bold tracking-wide\">\n              {activeStation.type === 'npc-teacher' ? \"Talk to Professor\" : `Open ${activeStation.label}`}\n            </span>\n          </div>\n        </div>\n      )}\n\n      <MiniMap playerPos={pos} />\n\n      {/* Game Viewport */}\n      <div \n        className=\"relative overflow-hidden bg-slate-900 border-4 border-slate-800 rounded-xl shadow-2xl\"\n        style={{ width: GAME_CONFIG.viewportWidth, height: GAME_CONFIG.viewportHeight }}\n      >\n        <motion.div\n          className=\"absolute origin-top-left\"\n          animate={{\n            x: -pos.x + GAME_CONFIG.viewportWidth / 2,\n            y: -pos.y + GAME_CONFIG.viewportHeight / 2,\n          }}\n          transition={{ type: \"tween\", ease: \"linear\", duration: 0 }} \n          style={{ width: GAME_CONFIG.mapWidth, height: GAME_CONFIG.mapHeight }}\n        >\n          <WorldMap />\n\n          {/* Other Players */}\n          {otherPlayers.map((p) => (\n            <Player \n              key={p.id}\n              pos={{ x: p.x, y: p.y }}\n              facing={p.facing}\n              isMoving={p.isMoving}\n              username={p.username}\n            />\n          ))}\n\n          {/* Stations (Hide Professor NPC if I AM the professor) */}\n          {STATIONS.filter(s => s.type !== \"npc-teacher\").map((station) => (\n            <Station key={station.id} station={station} isActive={activeStation?.id === station.id} />\n          ))}\n\n          {/* Render Teacher NPC (Only if I am NOT the teacher) */}\n          {!amITeacher && STATIONS.filter(s => s.type === \"npc-teacher\").map(npc => (\n            <Teacher \n                key={npc.id}\n                x={npc.x}\n                y={npc.y}\n                label={npc.label}\n                status=\"online\" \n            />\n          ))}\n\n          {/* My Player */}\n          <Player pos={pos} facing={facing} username={username} isMoving={isMoving} />\n\n        </motion.div>\n      </div>\n\n      <StationModalManager \n        isOpen={isDialogOpen}\n        onClose={() => setIsDialogOpen(false)}\n        activeStation={activeStation}\n      />\n\n      {user && closestPlayer && (\n        <ChatModal \n          isOpen={isChatOpen}\n          onClose={() => setIsChatOpen(false)}\n          chatId={currentChatId}\n          myUsername={username}\n          partnerName={closestPlayer ? closestPlayer.username : \"Student\"}\n        />\n      )}\n\n      {/* TEACHER DASHBOARD (Only visible if RBAC confirms teacher) */}\n      {amITeacher && <TeacherDashboard />}\n\n      {/* âœ… NEW: DASHBOARD OVERLAY */}\n      <DashboardOverlay \n        isOpen={isDashboardOpen}\n        onClose={() => setIsDashboardOpen(false)}\n        token={accessToken}\n        isTeacher={amITeacher}\n        user={user}\n      />\n\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6470, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/akash/PROJECTS/metaverse-lab-main/metaverse-lab-main/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport LobbyScreen from \"@/components/landing/LobbyScreen\";\nimport NetVerseEngine from \"@/components/game/NetVerseEngine\";\n\nexport default function Home() {\n  const [isGameActive, setIsGameActive] = useState(false);\n  const [userData, setUserData] = useState({ name: \"Student\", role: \"student\" });\n\n  const handleJoin = (name: string, role: string) => {\n    setUserData({ name, role });\n    setIsGameActive(true); // <--- Triggers the screen swap\n  };\n\n  return (\n    <main className=\"min-h-screen bg-black\">\n      {!isGameActive ? (\n        <LobbyScreen onJoin={handleJoin} />\n      ) : (\n        // Pass the captured name to the engine\n        <NetVerseEngine username={userData.name} />\n      )}\n    </main>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,qRAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qRAAQ,EAAC;QAAE,MAAM;QAAW,MAAM;IAAU;IAE5E,MAAM,aAAa,CAAC,MAAc;QAChC,YAAY;YAAE;YAAM;QAAK;QACzB,gBAAgB,OAAO,gCAAgC;IACzD;IAEA,qBACE,kTAAC;QAAK,WAAU;kBACb,CAAC,6BACA,kTAAC,oNAAW;YAAC,QAAQ;;;;;mBAErB,uCAAuC;sBACvC,kTAAC,oNAAc;YAAC,UAAU,SAAS,IAAI;;;;;;;;;;;AAI/C"}}]
}